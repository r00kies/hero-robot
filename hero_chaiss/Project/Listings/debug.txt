; generated by Component: ARM Compiler 5.05 update 1 (build 106) Tool: ArmCC [4d0efa]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\objects\debug.o --asm_dir=.\Listings\ --list_dir=.\Listings\ --depend=.\objects\debug.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I..\Mylib -I..\Libraries -I..\CM3 -I..\User -I..\User\debug -Id:\Keil_v5\ARM\RV31\INC -Id:\Keil_v5\ARM\CMSIS\Include -Id:\Keil_v5\ARM\Inc\ST\STM32F10x -D__MICROLIB -D__UVISION_VERSION=514 -DSTM32F10X_MD -DUSE_STDPERIPH_DRIVER --omf_browse=.\objects\debug.crf ..\Mylib\DEBUG.c]
                          THUMB

                          AREA ||i.ANO_DT_Data_Exchange||, CODE, READONLY, ALIGN=2

                  ANO_DT_Data_Exchange PROC
;;;35     //此函数应由用户每1ms调用一次
;;;36     void ANO_DT_Data_Exchange(void)
000000  b570              PUSH     {r4-r6,lr}
;;;37     {
000002  b086              SUB      sp,sp,#0x18
;;;38     	static u8 cnt = 0;
;;;39     //	static u8 senser_cnt 	= 10;
;;;40     	static u8 status_cnt 	= 15;
;;;41     //	static u8 rcdata_cnt 	= 20;
;;;42     	static u8 motopwm_cnt	= 20;
;;;43     //	static u8 power_cnt   =	50;
;;;44     	
;;;45     //	if((cnt % senser_cnt) == (senser_cnt-1))
;;;46     //		f.send_senser = 1;	
;;;47     	
;;;48     	if((cnt % status_cnt) == (status_cnt-1))
000004  4880              LDR      r0,|L1.520|
000006  7800              LDRB     r0,[r0,#0]  ; cnt
000008  4980              LDR      r1,|L1.524|
00000a  7809              LDRB     r1,[r1,#0]  ; status_cnt
00000c  fb90f2f1          SDIV     r2,r0,r1
000010  fb010112          MLS      r1,r1,r2,r0
000014  487d              LDR      r0,|L1.524|
000016  7800              LDRB     r0,[r0,#0]  ; status_cnt
000018  1e40              SUBS     r0,r0,#1
00001a  4281              CMP      r1,r0
00001c  d102              BNE      |L1.36|
;;;49     		f.send_status = 1;	
00001e  2001              MOVS     r0,#1
000020  497b              LDR      r1,|L1.528|
000022  7048              STRB     r0,[r1,#1]
                  |L1.36|
;;;50     //	
;;;51     //	if((cnt % rcdata_cnt) == (rcdata_cnt-1))
;;;52     //		f.send_rcdata = 1;	
;;;53     //	
;;;54     	if((cnt % motopwm_cnt) == (motopwm_cnt-1))
000024  4878              LDR      r0,|L1.520|
000026  7800              LDRB     r0,[r0,#0]  ; cnt
000028  497a              LDR      r1,|L1.532|
00002a  7809              LDRB     r1,[r1,#0]  ; motopwm_cnt
00002c  fb90f2f1          SDIV     r2,r0,r1
000030  fb010112          MLS      r1,r1,r2,r0
000034  4877              LDR      r0,|L1.532|
000036  7800              LDRB     r0,[r0,#0]  ; motopwm_cnt
000038  1e40              SUBS     r0,r0,#1
00003a  4281              CMP      r1,r0
00003c  d102              BNE      |L1.68|
;;;55     		f.send_motopwm = 1;
00003e  2001              MOVS     r0,#1
000040  4973              LDR      r1,|L1.528|
000042  72c8              STRB     r0,[r1,#0xb]
                  |L1.68|
;;;56     //
;;;57     //	if((cnt % power_cnt) == (power_cnt-1))
;;;58     //		f.send_power = 1;		
;;;59     	
;;;60     	cnt++;
000044  4870              LDR      r0,|L1.520|
000046  7800              LDRB     r0,[r0,#0]  ; cnt
000048  1c40              ADDS     r0,r0,#1
00004a  496f              LDR      r1,|L1.520|
00004c  7008              STRB     r0,[r1,#0]
;;;61     /////////////////////////////////////////////////////////////////////////////////////
;;;62     	if(f.send_version)
00004e  4870              LDR      r0,|L1.528|
000050  7800              LDRB     r0,[r0,#0]  ; f
000052  b160              CBZ      r0,|L1.110|
;;;63     	{
;;;64     		f.send_version = 0;
000054  2000              MOVS     r0,#0
000056  496e              LDR      r1,|L1.528|
000058  7008              STRB     r0,[r1,#0]
;;;65     		ANO_DT_Send_Version(4,300,100,400,0);
00005a  f44f73c8          MOV      r3,#0x190
00005e  2264              MOVS     r2,#0x64
000060  f44f7196          MOV      r1,#0x12c
000064  9000              STR      r0,[sp,#0]
000066  2004              MOVS     r0,#4
000068  f7fffffe          BL       ANO_DT_Send_Version
00006c  e0ca              B        |L1.516|
                  |L1.110|
;;;66     	}
;;;67     /////////////////////////////////////////////////////////////////////////////////////
;;;68     	else if(f.send_status)
00006e  4868              LDR      r0,|L1.528|
000070  7840              LDRB     r0,[r0,#1]  ; f
000072  b180              CBZ      r0,|L1.150|
;;;69     	{
;;;70     		f.send_status = 0;
000074  2000              MOVS     r0,#0
000076  4966              LDR      r1,|L1.528|
000078  7048              STRB     r0,[r1,#1]
;;;71     		ANO_DT_Send_Status(Moto_Drive.Measured_Speed,Moto_Drive.power,Q_angle.z,0,0,fly_ready);
00007a  4867              LDR      r0,|L1.536|
00007c  7800              LDRB     r0,[r0,#0]  ; fly_ready
00007e  2100              MOVS     r1,#0
000080  4b66              LDR      r3,|L1.540|
000082  e9cd1000          STRD     r1,r0,[sp,#0]
000086  689a              LDR      r2,[r3,#8]  ; Q_angle
000088  4b65              LDR      r3,|L1.544|
00008a  69d9              LDR      r1,[r3,#0x1c]  ; Moto_Drive
00008c  6998              LDR      r0,[r3,#0x18]  ; Moto_Drive
00008e  2300              MOVS     r3,#0
000090  f7fffffe          BL       ANO_DT_Send_Status
000094  e0b6              B        |L1.516|
                  |L1.150|
;;;72     	}	
;;;73     /////////////////////////////////////////////////////////////////////////////////////
;;;74     	else if(f.send_senser)
000096  485e              LDR      r0,|L1.528|
000098  7880              LDRB     r0,[r0,#2]  ; f
00009a  b1e8              CBZ      r0,|L1.216|
;;;75     	{
;;;76     		f.send_senser = 0;
00009c  2000              MOVS     r0,#0
00009e  495c              LDR      r1,|L1.528|
0000a0  7088              STRB     r0,[r1,#2]
;;;77     		ANO_DT_Send_Senser(MPU6050_ACC_LAST.x,MPU6050_ACC_LAST.y,MPU6050_ACC_LAST.z,
0000a2  9002              STR      r0,[sp,#8]
0000a4  9003              STR      r0,[sp,#0xc]
0000a6  9004              STR      r0,[sp,#0x10]
0000a8  9005              STR      r0,[sp,#0x14]
0000aa  485e              LDR      r0,|L1.548|
0000ac  8900              LDRH     r0,[r0,#8]  ; MPU6050_GYRO_LAST
0000ae  b200              SXTH     r0,r0
0000b0  495c              LDR      r1,|L1.548|
0000b2  8889              LDRH     r1,[r1,#4]  ; MPU6050_GYRO_LAST
0000b4  b209              SXTH     r1,r1
0000b6  4c5b              LDR      r4,|L1.548|
0000b8  e9cd1000          STRD     r1,r0,[sp,#0]
0000bc  8824              LDRH     r4,[r4,#0]  ; MPU6050_GYRO_LAST
0000be  b223              SXTH     r3,r4
0000c0  4c59              LDR      r4,|L1.552|
0000c2  8924              LDRH     r4,[r4,#8]  ; MPU6050_ACC_LAST
0000c4  b222              SXTH     r2,r4
0000c6  4c58              LDR      r4,|L1.552|
0000c8  88a4              LDRH     r4,[r4,#4]  ; MPU6050_ACC_LAST
0000ca  b221              SXTH     r1,r4
0000cc  4c56              LDR      r4,|L1.552|
0000ce  8824              LDRH     r4,[r4,#0]  ; MPU6050_ACC_LAST
0000d0  b220              SXTH     r0,r4
0000d2  f7fffffe          BL       ANO_DT_Send_Senser
0000d6  e095              B        |L1.516|
                  |L1.216|
;;;78     		MPU6050_GYRO_LAST.x,MPU6050_GYRO_LAST.y,MPU6050_GYRO_LAST.z,
;;;79     		0,0,0,0);
;;;80     	}	
;;;81     /////////////////////////////////////////////////////////////////////////////////////
;;;82     	else if(f.send_rcdata)
0000d8  484d              LDR      r0,|L1.528|
0000da  7a40              LDRB     r0,[r0,#9]  ; f
0000dc  b1f0              CBZ      r0,|L1.284|
;;;83     	{
;;;84     		Rc_Pwm_In[0]=0;
0000de  2000              MOVS     r0,#0
0000e0  4952              LDR      r1,|L1.556|
0000e2  8008              STRH     r0,[r1,#0]
;;;85     		Rc_Pwm_In[1]=0;
0000e4  8048              STRH     r0,[r1,#2]
;;;86     		Rc_Pwm_In[2]=0;
0000e6  8088              STRH     r0,[r1,#4]
;;;87     		
;;;88     		Rc_Pwm_In[4]=0;
0000e8  8108              STRH     r0,[r1,#8]
;;;89     		Rc_Pwm_In[5]=0;
0000ea  8148              STRH     r0,[r1,#0xa]
;;;90     		Rc_Pwm_In[6]=0;
0000ec  8188              STRH     r0,[r1,#0xc]
;;;91     		f.send_rcdata = 0;
0000ee  4948              LDR      r1,|L1.528|
0000f0  7248              STRB     r0,[r1,#9]
;;;92     		ANO_DT_Send_RCData(Rc_Pwm_In[0],Rc_Pwm_In[1],Rc_Pwm_In[2],Rc_Pwm_In[3],Rc_Pwm_In[4],Rc_Pwm_In[5],Rc_Pwm_In[6],Rc_Pwm_In[7],0,0);
0000f2  2200              MOVS     r2,#0
0000f4  484d              LDR      r0,|L1.556|
0000f6  89c1              LDRH     r1,[r0,#0xe]  ; Rc_Pwm_In
0000f8  8980              LDRH     r0,[r0,#0xc]  ; Rc_Pwm_In
0000fa  ab02              ADD      r3,sp,#8
0000fc  c307              STM      r3!,{r0-r2}
0000fe  484b              LDR      r0,|L1.556|
000100  9205              STR      r2,[sp,#0x14]
000102  8940              LDRH     r0,[r0,#0xa]  ; Rc_Pwm_In
000104  4949              LDR      r1,|L1.556|
000106  8909              LDRH     r1,[r1,#8]  ; Rc_Pwm_In
000108  4c48              LDR      r4,|L1.556|
00010a  e9cd1000          STRD     r1,r0,[sp,#0]
00010e  88e3              LDRH     r3,[r4,#6]  ; Rc_Pwm_In
000110  88a2              LDRH     r2,[r4,#4]  ; Rc_Pwm_In
000112  8861              LDRH     r1,[r4,#2]  ; Rc_Pwm_In
000114  8820              LDRH     r0,[r4,#0]  ; Rc_Pwm_In
000116  f7fffffe          BL       ANO_DT_Send_RCData
00011a  e073              B        |L1.516|
                  |L1.284|
;;;93     	}	
;;;94     /////////////////////////////////////////////////////////////////////////////////////	
;;;95     	else if(f.send_motopwm)
00011c  483c              LDR      r0,|L1.528|
00011e  7ac0              LDRB     r0,[r0,#0xb]  ; f
000120  b188              CBZ      r0,|L1.326|
;;;96     	{
;;;97     		f.send_motopwm = 0;
000122  2000              MOVS     r0,#0
000124  493a              LDR      r1,|L1.528|
000126  72c8              STRB     r0,[r1,#0xb]
;;;98     		ANO_DT_Send_MotoPWM(0,1,2,3,4,5,6,7);
000128  2007              MOVS     r0,#7
00012a  2106              MOVS     r1,#6
00012c  2205              MOVS     r2,#5
00012e  2304              MOVS     r3,#4
000130  e9cd3200          STRD     r3,r2,[sp,#0]
000134  e9cd1002          STRD     r1,r0,[sp,#8]
000138  2303              MOVS     r3,#3
00013a  2202              MOVS     r2,#2
00013c  2101              MOVS     r1,#1
00013e  2000              MOVS     r0,#0
000140  f7fffffe          BL       ANO_DT_Send_MotoPWM
000144  e05e              B        |L1.516|
                  |L1.326|
;;;99     	}
;;;100    /////////////////////////////////////////////////////////////////////////////////////
;;;101    	else if(f.send_power)
000146  4832              LDR      r0,|L1.528|
000148  7b00              LDRB     r0,[r0,#0xc]  ; f
00014a  b140              CBZ      r0,|L1.350|
;;;102    	{
;;;103    		f.send_power = 0;
00014c  2000              MOVS     r0,#0
00014e  4930              LDR      r1,|L1.528|
000150  7308              STRB     r0,[r1,#0xc]
;;;104    		ANO_DT_Send_Power(123,456);
000152  f44f71e4          MOV      r1,#0x1c8
000156  207b              MOVS     r0,#0x7b
000158  f7fffffe          BL       ANO_DT_Send_Power
00015c  e052              B        |L1.516|
                  |L1.350|
;;;105    	}
;;;106    /////////////////////////////////////////////////////////////////////////////////////
;;;107    	else if(f.send_pid1)
00015e  482c              LDR      r0,|L1.528|
000160  78c0              LDRB     r0,[r0,#3]  ; f
000162  b328              CBZ      r0,|L1.432|
;;;108    	{
;;;109    		f.send_pid1 = 0;
000164  2000              MOVS     r0,#0
000166  492a              LDR      r1,|L1.528|
000168  70c8              STRB     r0,[r1,#3]
;;;110    		ANO_DT_Send_PID(1,PID_Moto_Drive.Kp,PID_Moto_Drive.Ti,PID_Moto_Drive.Td,
00016a  492d              LDR      r1,|L1.544|
00016c  7b08              LDRB     r0,[r1,#0xc]  ; Moto_Drive
00016e  f7fffffe          BL       __aeabi_ui2f
000172  4604              MOV      r4,r0
000174  492a              LDR      r1,|L1.544|
000176  7b48              LDRB     r0,[r1,#0xd]  ; Moto_Drive
000178  f7fffffe          BL       __aeabi_ui2f
00017c  4605              MOV      r5,r0
00017e  4928              LDR      r1,|L1.544|
000180  7808              LDRB     r0,[r1,#0]  ; Moto_Drive
000182  f7fffffe          BL       __aeabi_ui2f
000186  4606              MOV      r6,r0
000188  4829              LDR      r0,|L1.560|
00018a  69c0              LDR      r0,[r0,#0x1c]  ; PID_Power_Struct
00018c  4928              LDR      r1,|L1.560|
00018e  6989              LDR      r1,[r1,#0x18]  ; PID_Power_Struct
000190  4a27              LDR      r2,|L1.560|
000192  6952              LDR      r2,[r2,#0x14]  ; PID_Power_Struct
000194  e9cd6500          STRD     r6,r5,[sp,#0]
000198  e9cd4202          STRD     r4,r2,[sp,#8]
00019c  e9cd1004          STRD     r1,r0,[sp,#0x10]
0001a0  4824              LDR      r0,|L1.564|
0001a2  69c3              LDR      r3,[r0,#0x1c]  ; PID_Moto_Drive
0001a4  6982              LDR      r2,[r0,#0x18]  ; PID_Moto_Drive
0001a6  6941              LDR      r1,[r0,#0x14]  ; PID_Moto_Drive
0001a8  2001              MOVS     r0,#1
0001aa  f7fffffe          BL       ANO_DT_Send_PID
0001ae  e029              B        |L1.516|
                  |L1.432|
;;;111    				  Moto_Drive.Can_id,Moto_Drive.encoder_dir,Moto_Drive.moto_dir,
;;;112    				  PID_Power_Struct.Kp,PID_Power_Struct.Ti,PID_Power_Struct.Td);
;;;113            
;;;114    	}
;;;115    /////////////////////////////////////////////////////////////////////////////////////
;;;116    	else if(f.send_pid2)
0001b0  4817              LDR      r0,|L1.528|
0001b2  7900              LDRB     r0,[r0,#4]  ; f
0001b4  b330              CBZ      r0,|L1.516|
;;;117    	{
;;;118    		f.send_pid2 = 0;
0001b6  2000              MOVS     r0,#0
0001b8  4915              LDR      r1,|L1.528|
0001ba  7108              STRB     r0,[r1,#4]
;;;119    		ANO_DT_Send_PID(2,Moto_Drive.Speed_Value/100,Moto_Drive.limit_power/100,PID_Roll_P_Struct.Td,
0001bc  4918              LDR      r1,|L1.544|
0001be  6a08              LDR      r0,[r1,#0x20]  ; Moto_Drive
0001c0  491d              LDR      r1,|L1.568|
0001c2  f7fffffe          BL       __aeabi_fdiv
0001c6  4604              MOV      r4,r0
0001c8  4915              LDR      r1,|L1.544|
0001ca  6908              LDR      r0,[r1,#0x10]  ; Moto_Drive
0001cc  491a              LDR      r1,|L1.568|
0001ce  f7fffffe          BL       __aeabi_fdiv
0001d2  4605              MOV      r5,r0
0001d4  4819              LDR      r0,|L1.572|
0001d6  69c1              LDR      r1,[r0,#0x1c]  ; PID_Yaw_P_Struct
0001d8  6980              LDR      r0,[r0,#0x18]  ; PID_Yaw_P_Struct
0001da  4a18              LDR      r2,|L1.572|
0001dc  6952              LDR      r2,[r2,#0x14]  ; PID_Yaw_P_Struct
0001de  4b18              LDR      r3,|L1.576|
0001e0  69db              LDR      r3,[r3,#0x1c]  ; PID_Pitch_P_Struct
0001e2  e9cd3202          STRD     r3,r2,[sp,#8]
0001e6  e9cd0104          STRD     r0,r1,[sp,#0x10]
0001ea  4815              LDR      r0,|L1.576|
0001ec  6980              LDR      r0,[r0,#0x18]  ; PID_Pitch_P_Struct
0001ee  4914              LDR      r1,|L1.576|
0001f0  6949              LDR      r1,[r1,#0x14]  ; PID_Pitch_P_Struct
0001f2  e9cd1000          STRD     r1,r0,[sp,#0]
0001f6  4813              LDR      r0,|L1.580|
0001f8  4622              MOV      r2,r4
0001fa  4629              MOV      r1,r5
0001fc  69c3              LDR      r3,[r0,#0x1c]  ; PID_Roll_P_Struct
0001fe  2002              MOVS     r0,#2
000200  f7fffffe          BL       ANO_DT_Send_PID
                  |L1.516|
;;;120    				  PID_Pitch_P_Struct.Kp,PID_Pitch_P_Struct.Ti,PID_Pitch_P_Struct.Td,
;;;121    				  PID_Yaw_P_Struct.Kp,PID_Yaw_P_Struct.Ti,PID_Yaw_P_Struct.Td);
;;;122    	}
;;;123    /////////////////////////////////////////////////////////////////////////////////////
;;;124    //	else if(f.send_pid3)
;;;125    //	{
;;;126    //		f.send_pid3 = 0;
;;;127    //		ANO_DT_Send_PID(3,PID_Moto_Drive.Kp,PID_Moto_Drive.Ti,0,
;;;128    //		0,0,0,
;;;129    //		0,0,0);
;;;130    //	}
;;;131    
;;;132    }
000204  b006              ADD      sp,sp,#0x18
000206  bd70              POP      {r4-r6,pc}
;;;133    void calibrate_IMU()
                          ENDP

                  |L1.520|
                          DCD      ||cnt||
                  |L1.524|
                          DCD      status_cnt
                  |L1.528|
                          DCD      f
                  |L1.532|
                          DCD      motopwm_cnt
                  |L1.536|
                          DCD      fly_ready
                  |L1.540|
                          DCD      Q_angle
                  |L1.544|
                          DCD      Moto_Drive
                  |L1.548|
                          DCD      MPU6050_GYRO_LAST
                  |L1.552|
                          DCD      MPU6050_ACC_LAST
                  |L1.556|
                          DCD      Rc_Pwm_In
                  |L1.560|
                          DCD      PID_Power_Struct
                  |L1.564|
                          DCD      PID_Moto_Drive
                  |L1.568|
                          DCD      0x42c80000
                  |L1.572|
                          DCD      PID_Yaw_P_Struct
                  |L1.576|
                          DCD      PID_Pitch_P_Struct
                  |L1.580|
                          DCD      PID_Roll_P_Struct

                          AREA ||i.ANO_DT_Data_Receive_Anl||, CODE, READONLY, ALIGN=2

                  ANO_DT_Data_Receive_Anl PROC
;;;230    //此函数可以不用用户自行调用，由函数Data_Receive_Prepare自动调用
;;;231    void ANO_DT_Data_Receive_Anl(u8 *data_buf,u8 num)
000000  e92d5fff          PUSH     {r0-r12,lr}
;;;232    {
000004  4604              MOV      r4,r0
000006  4689              MOV      r9,r1
;;;233    	u8 sum = 0;
000008  f04f0a00          MOV      r10,#0
;;;234    	u8 i=0;
00000c  46d3              MOV      r11,r10
;;;235    	for(;i<(num-1);i++)
00000e  e008              B        |L2.34|
                  |L2.16|
;;;236    		sum += *(data_buf+i);
000010  f814000b          LDRB     r0,[r4,r11]
000014  4450              ADD      r0,r0,r10
000016  f0000aff          AND      r10,r0,#0xff
00001a  f10b0001          ADD      r0,r11,#1             ;235
00001e  f0000bff          AND      r11,r0,#0xff          ;235
                  |L2.34|
000022  f1a90001          SUB      r0,r9,#1              ;235
000026  4558              CMP      r0,r11                ;235
000028  dcf2              BGT      |L2.16|
;;;237    	if(!(sum==*(data_buf+num-1)))		return;		
00002a  eb040009          ADD      r0,r4,r9
00002e  f8100c01          LDRB     r0,[r0,#-1]
000032  4550              CMP      r0,r10
000034  d001              BEQ      |L2.58|
                  |L2.54|
;;;238    	if(!(*(data_buf)==0xAA && *(data_buf+1)==0xAF))		return;		
;;;239    	
;;;240    	if(*(data_buf+2)==0X01)
;;;241    	{
;;;242    		if(*(data_buf+4)==0X01)
;;;243    			mpu6050.Acc_CALIBRATE = 1;
;;;244    		if(*(data_buf+4)==0X02)
;;;245    			mpu6050.Gyro_CALIBRATE = 1;
;;;246    		if(*(data_buf+4)==0X03)
;;;247    		{
;;;248    			mpu6050.Acc_CALIBRATE = 1;		
;;;249    			mpu6050.Gyro_CALIBRATE = 1;			
;;;250    		}
;;;251    	}
;;;252    	
;;;253    	if(*(data_buf+2)==0X02)
;;;254    	{
;;;255    		if(*(data_buf+4)==0X01)
;;;256    		{
;;;257    			f.send_pid1 = 1;
;;;258    			f.send_pid2 = 1;
;;;259    			f.send_pid3 = 1;
;;;260    			f.send_pid4 = 1;
;;;261    			f.send_pid5 = 1;
;;;262    			f.send_pid6 = 1;
;;;263    		}
;;;264    		if(*(data_buf+4)==0X02)
;;;265    		{
;;;266    			
;;;267    		}
;;;268    		if(*(data_buf+4)==0XA0)		
;;;269    		{
;;;270    			f.send_version = 1;
;;;271    		}
;;;272    		if(*(data_buf+4)==0XA1)		
;;;273    		{
;;;274    			//Para_ResetToFactorySetup();
;;;275    		}
;;;276    	}
;;;277    
;;;278    	if(*(data_buf+2)==0X10)								
;;;279        {
;;;280    	u16 _temp1,_temp2,_temp3;    
;;;281    	_temp1=*(data_buf+4);
;;;282    	_temp2=*(data_buf+5);
;;;283            PID_Moto_Drive.Kp  = 0.001*( (_temp1<<8)|_temp2 );
;;;284    		_temp1=*(data_buf+6);
;;;285    	_temp2=*(data_buf+7);
;;;286            PID_Moto_Drive.Ti  = 0.001*( (_temp1<<8)|_temp2 );
;;;287    		_temp1=*(data_buf+8);
;;;288    	_temp2=*(data_buf+9);
;;;289             PID_Moto_Drive.Td  = 0.001*( (_temp1<<8)|_temp2 );
;;;290    		_temp1=*(data_buf+10);
;;;291      	_temp2=*(data_buf+11);
;;;292            Moto_Drive.Can_id = ( (_temp1<<8)|_temp2 );
;;;293    
;;;294    		_temp1=*(data_buf+12);
;;;295    	  _temp2=*(data_buf+13);
;;;296            _temp3 = ((_temp1<<8)|_temp2 );
;;;297    			Moto_Drive.encoder_dir=_temp3;
;;;298    			if(Moto_Drive.encoder_dir)
;;;299    				Moto_Drive.Encoder_Dir=1;
;;;300    			else
;;;301    			  Moto_Drive.Encoder_Dir=-1;
;;;302    		_temp1=*(data_buf+14);
;;;303    	  _temp2=*(data_buf+15);
;;;304    
;;;305    			_temp3 = ((_temp1<<8)|_temp2 );
;;;306    			Moto_Drive.moto_dir=_temp3;
;;;307          if(Moto_Drive.moto_dir)
;;;308    				Moto_Drive.Moto_Dir=1.0;
;;;309    			else
;;;310    			  Moto_Drive.Moto_Dir=-1.0;
;;;311    			
;;;312    		_temp1=*(data_buf+16);
;;;313    	_temp2=*(data_buf+17);
;;;314            PID_Power_Struct.Kp 	= 0.001*( (_temp1<<8)|_temp2 );
;;;315               
;;;316    		_temp1=*(data_buf+18);
;;;317    	_temp2=*(data_buf+19);
;;;318            PID_Power_Struct.Ti 	= 0.001*( (_temp1<<8)|_temp2 );
;;;319    		_temp1=*(data_buf+20);
;;;320    	_temp2=*(data_buf+21);
;;;321            PID_Power_Struct.Td 	= 0.001*( (_temp1<<8)|_temp2 );
;;;322            ANO_DT_Send_Check(*(data_buf+2),sum);		
;;;323    				EE_SAVE_PID();
;;;324        }
;;;325        if(*(data_buf+2)==0X11)								//PID2
;;;326        {
;;;327    	u16 _temp1,_temp2;    
;;;328    	_temp1=*(data_buf+4);
;;;329    	_temp2=*(data_buf+5);
;;;330             Moto_Drive.Speed_Value  = 0.1*( (_temp1<<8)|_temp2 );
;;;331            //PID_Roll_P_Struct.Kp  = 0.001*( (_temp1<<8)|_temp2 );
;;;332    		_temp1=*(data_buf+6);
;;;333    	_temp2=*(data_buf+7);
;;;334            Moto_Drive.limit_power  = 0.1*( (_temp1<<8)|_temp2 );
;;;335    		_temp1=*(data_buf+8);
;;;336    	_temp2=*(data_buf+9);
;;;337            PID_Roll_P_Struct.Td  = 0.001*( (_temp1<<8)|_temp2 );
;;;338    		_temp1=*(data_buf+10);
;;;339    	_temp2=*(data_buf+11);
;;;340            PID_Pitch_P_Struct.Kp = 0.001*( (_temp1<<8)|_temp2 );
;;;341    		_temp1=*(data_buf+12);
;;;342    	_temp2=*(data_buf+13);
;;;343            PID_Pitch_P_Struct.Ti = 0.001*( (_temp1<<8)|_temp2 );
;;;344    		_temp1=*(data_buf+14);
;;;345    	_temp2=*(data_buf+15);
;;;346            PID_Pitch_P_Struct.Td =0.001*( (_temp1<<8)|_temp2 );
;;;347    		_temp1=*(data_buf+16);
;;;348    	_temp2=*(data_buf+17);
;;;349            PID_Yaw_P_Struct.Kp 	= 0.001*( (_temp1<<8)|_temp2 );
;;;350    		_temp1=*(data_buf+18);
;;;351    	_temp2=*(data_buf+19);
;;;352            PID_Yaw_P_Struct.Ti 	= 0.001*( (_temp1<<8)|_temp2 );
;;;353    		_temp1=*(data_buf+20);
;;;354    	_temp2=*(data_buf+21);
;;;355            PID_Yaw_P_Struct.Td 	= 0.001*( (_temp1<<8)|_temp2 );
;;;356            ANO_DT_Send_Check(*(data_buf+2),sum);
;;;357    				
;;;358        }
;;;359        if(*(data_buf+2)==0X12)								//PID3
;;;360        {	
;;;361    
;;;362            ANO_DT_Send_Check(*(data_buf+2),sum);
;;;363    				
;;;364        }
;;;365    	if(*(data_buf+2)==0X13)								//PID4
;;;366    	{
;;;367    		ANO_DT_Send_Check(*(data_buf+2),sum);
;;;368    	}
;;;369    	if(*(data_buf+2)==0X14)								//PID5
;;;370    	{
;;;371    		ANO_DT_Send_Check(*(data_buf+2),sum);
;;;372    	}
;;;373    	if(*(data_buf+2)==0X15)								//PID6
;;;374    	{
;;;375    		ANO_DT_Send_Check(*(data_buf+2),sum);
;;;376    	}
;;;377    }
000036  e8bd9fff          POP      {r0-r12,pc}
                  |L2.58|
00003a  7820              LDRB     r0,[r4,#0]            ;238
00003c  28aa              CMP      r0,#0xaa              ;238
00003e  d102              BNE      |L2.70|
000040  7860              LDRB     r0,[r4,#1]            ;238
000042  28af              CMP      r0,#0xaf              ;238
000044  d000              BEQ      |L2.72|
                  |L2.70|
000046  e7f6              B        |L2.54|
                  |L2.72|
000048  78a0              LDRB     r0,[r4,#2]            ;240
00004a  2801              CMP      r0,#1                 ;240
00004c  d111              BNE      |L2.114|
00004e  7920              LDRB     r0,[r4,#4]            ;242
000050  2801              CMP      r0,#1                 ;242
000052  d101              BNE      |L2.88|
000054  49c0              LDR      r1,|L2.856|
000056  7008              STRB     r0,[r1,#0]            ;243
                  |L2.88|
000058  7920              LDRB     r0,[r4,#4]            ;244
00005a  2802              CMP      r0,#2                 ;244
00005c  d102              BNE      |L2.100|
00005e  2001              MOVS     r0,#1                 ;245
000060  49bd              LDR      r1,|L2.856|
000062  7048              STRB     r0,[r1,#1]            ;245
                  |L2.100|
000064  7920              LDRB     r0,[r4,#4]            ;246
000066  2803              CMP      r0,#3                 ;246
000068  d103              BNE      |L2.114|
00006a  2001              MOVS     r0,#1                 ;248
00006c  49ba              LDR      r1,|L2.856|
00006e  7008              STRB     r0,[r1,#0]            ;248
000070  7048              STRB     r0,[r1,#1]            ;249
                  |L2.114|
000072  78a0              LDRB     r0,[r4,#2]            ;253
000074  2802              CMP      r0,#2                 ;253
000076  d110              BNE      |L2.154|
000078  7920              LDRB     r0,[r4,#4]            ;255
00007a  2801              CMP      r0,#1                 ;255
00007c  d106              BNE      |L2.140|
00007e  49b7              LDR      r1,|L2.860|
000080  70c8              STRB     r0,[r1,#3]            ;257
000082  7108              STRB     r0,[r1,#4]            ;258
000084  7148              STRB     r0,[r1,#5]            ;259
000086  7188              STRB     r0,[r1,#6]            ;260
000088  71c8              STRB     r0,[r1,#7]            ;261
00008a  7208              STRB     r0,[r1,#8]            ;262
                  |L2.140|
00008c  7920              LDRB     r0,[r4,#4]            ;268
00008e  28a0              CMP      r0,#0xa0              ;268
000090  d102              BNE      |L2.152|
000092  2001              MOVS     r0,#1                 ;270
000094  49b1              LDR      r1,|L2.860|
000096  7008              STRB     r0,[r1,#0]            ;270
                  |L2.152|
000098  bf00              NOP                            ;272
                  |L2.154|
00009a  78a0              LDRB     r0,[r4,#2]            ;278
00009c  2810              CMP      r0,#0x10              ;278
00009e  d17d              BNE      |L2.412|
0000a0  7925              LDRB     r5,[r4,#4]            ;281
0000a2  7966              LDRB     r6,[r4,#5]            ;282
0000a4  ea462005          ORR      r0,r6,r5,LSL #8       ;283
0000a8  f7fffffe          BL       __aeabi_i2d
0000ac  4aac              LDR      r2,|L2.864|
0000ae  4bad              LDR      r3,|L2.868|
0000b0  e9cd0100          STRD     r0,r1,[sp,#0]         ;283
0000b4  f7fffffe          BL       __aeabi_dmul
0000b8  e9cd0102          STRD     r0,r1,[sp,#8]         ;283
0000bc  f7fffffe          BL       __aeabi_d2f
0000c0  49a9              LDR      r1,|L2.872|
0000c2  6148              STR      r0,[r1,#0x14]         ;283  ; PID_Moto_Drive
0000c4  79a5              LDRB     r5,[r4,#6]            ;284
0000c6  79e6              LDRB     r6,[r4,#7]            ;285
0000c8  ea462005          ORR      r0,r6,r5,LSL #8       ;286
0000cc  f7fffffe          BL       __aeabi_i2d
0000d0  4aa3              LDR      r2,|L2.864|
0000d2  4ba4              LDR      r3,|L2.868|
0000d4  e9cd0100          STRD     r0,r1,[sp,#0]         ;286
0000d8  f7fffffe          BL       __aeabi_dmul
0000dc  e9cd0102          STRD     r0,r1,[sp,#8]         ;286
0000e0  f7fffffe          BL       __aeabi_d2f
0000e4  49a0              LDR      r1,|L2.872|
0000e6  6188              STR      r0,[r1,#0x18]         ;286  ; PID_Moto_Drive
0000e8  7a25              LDRB     r5,[r4,#8]            ;287
0000ea  7a66              LDRB     r6,[r4,#9]            ;288
0000ec  ea462005          ORR      r0,r6,r5,LSL #8       ;289
0000f0  f7fffffe          BL       __aeabi_i2d
0000f4  4a9a              LDR      r2,|L2.864|
0000f6  4b9b              LDR      r3,|L2.868|
0000f8  e9cd0100          STRD     r0,r1,[sp,#0]         ;289
0000fc  f7fffffe          BL       __aeabi_dmul
000100  e9cd0102          STRD     r0,r1,[sp,#8]         ;289
000104  f7fffffe          BL       __aeabi_d2f
000108  4997              LDR      r1,|L2.872|
00010a  61c8              STR      r0,[r1,#0x1c]         ;289  ; PID_Moto_Drive
00010c  7aa5              LDRB     r5,[r4,#0xa]          ;290
00010e  7ae6              LDRB     r6,[r4,#0xb]          ;291
000110  ea462005          ORR      r0,r6,r5,LSL #8       ;292
000114  4995              LDR      r1,|L2.876|
000116  7008              STRB     r0,[r1,#0]            ;292
000118  7b25              LDRB     r5,[r4,#0xc]          ;294
00011a  7b66              LDRB     r6,[r4,#0xd]          ;295
00011c  ea462705          ORR      r7,r6,r5,LSL #8       ;296
000120  734f              STRB     r7,[r1,#0xd]          ;297
000122  4608              MOV      r0,r1                 ;298
000124  7b40              LDRB     r0,[r0,#0xd]          ;298  ; Moto_Drive
000126  b118              CBZ      r0,|L2.304|
000128  f04f507e          MOV      r0,#0x3f800000        ;299
00012c  6048              STR      r0,[r1,#4]            ;299  ; Moto_Drive
00012e  e002              B        |L2.310|
                  |L2.304|
000130  488f              LDR      r0,|L2.880|
000132  498e              LDR      r1,|L2.876|
000134  6048              STR      r0,[r1,#4]            ;301  ; Moto_Drive
                  |L2.310|
000136  7ba5              LDRB     r5,[r4,#0xe]          ;302
000138  7be6              LDRB     r6,[r4,#0xf]          ;303
00013a  ea462705          ORR      r7,r6,r5,LSL #8       ;305
00013e  498b              LDR      r1,|L2.876|
000140  730f              STRB     r7,[r1,#0xc]          ;306
000142  4608              MOV      r0,r1                 ;307
000144  7b00              LDRB     r0,[r0,#0xc]          ;307  ; Moto_Drive
000146  b118              CBZ      r0,|L2.336|
000148  f04f507e          MOV      r0,#0x3f800000        ;308
00014c  6088              STR      r0,[r1,#8]            ;308  ; Moto_Drive
00014e  e002              B        |L2.342|
                  |L2.336|
000150  4887              LDR      r0,|L2.880|
000152  4986              LDR      r1,|L2.876|
000154  6088              STR      r0,[r1,#8]            ;310  ; Moto_Drive
                  |L2.342|
000156  7c25              LDRB     r5,[r4,#0x10]         ;312
000158  7c66              LDRB     r6,[r4,#0x11]         ;313
00015a  ea462005          ORR      r0,r6,r5,LSL #8       ;314
00015e  f7fffffe          BL       __aeabi_i2d
000162  4a7f              LDR      r2,|L2.864|
000164  4b7f              LDR      r3,|L2.868|
000166  e9cd0100          STRD     r0,r1,[sp,#0]         ;314
00016a  f7fffffe          BL       __aeabi_dmul
00016e  e9cd0102          STRD     r0,r1,[sp,#8]         ;314
000172  f7fffffe          BL       __aeabi_d2f
000176  497f              LDR      r1,|L2.884|
000178  6148              STR      r0,[r1,#0x14]         ;314  ; PID_Power_Struct
00017a  7ca5              LDRB     r5,[r4,#0x12]         ;316
00017c  7ce6              LDRB     r6,[r4,#0x13]         ;317
00017e  ea462005          ORR      r0,r6,r5,LSL #8       ;318
000182  f7fffffe          BL       __aeabi_i2d
000186  4a76              LDR      r2,|L2.864|
000188  4b76              LDR      r3,|L2.868|
00018a  e9cd0100          STRD     r0,r1,[sp,#0]         ;318
00018e  f7fffffe          BL       __aeabi_dmul
000192  e9cd0102          STRD     r0,r1,[sp,#8]         ;318
000196  f7fffffe          BL       __aeabi_d2f
00019a  e000              B        |L2.414|
                  |L2.412|
00019c  e01a              B        |L2.468|
                  |L2.414|
00019e  4975              LDR      r1,|L2.884|
0001a0  6188              STR      r0,[r1,#0x18]         ;318  ; PID_Power_Struct
0001a2  7d25              LDRB     r5,[r4,#0x14]         ;319
0001a4  7d66              LDRB     r6,[r4,#0x15]         ;320
0001a6  ea462005          ORR      r0,r6,r5,LSL #8       ;321
0001aa  f7fffffe          BL       __aeabi_i2d
0001ae  4a6c              LDR      r2,|L2.864|
0001b0  4b6c              LDR      r3,|L2.868|
0001b2  e9cd0100          STRD     r0,r1,[sp,#0]         ;321
0001b6  f7fffffe          BL       __aeabi_dmul
0001ba  e9cd0102          STRD     r0,r1,[sp,#8]         ;321
0001be  f7fffffe          BL       __aeabi_d2f
0001c2  496c              LDR      r1,|L2.884|
0001c4  61c8              STR      r0,[r1,#0x1c]         ;321  ; PID_Power_Struct
0001c6  78a0              LDRB     r0,[r4,#2]            ;322
0001c8  4651              MOV      r1,r10                ;322
0001ca  f7fffffe          BL       ANO_DT_Send_Check
0001ce  f7fffffe          BL       EE_SAVE_PID
0001d2  bf00              NOP                            ;324
                  |L2.468|
0001d4  78a0              LDRB     r0,[r4,#2]            ;325
0001d6  2811              CMP      r0,#0x11              ;325
0001d8  d17e              BNE      |L2.728|
0001da  7925              LDRB     r5,[r4,#4]            ;328
0001dc  7966              LDRB     r6,[r4,#5]            ;329
0001de  ea462005          ORR      r0,r6,r5,LSL #8       ;330
0001e2  f7fffffe          BL       __aeabi_i2d
0001e6  4a64              LDR      r2,|L2.888|
0001e8  4b64              LDR      r3,|L2.892|
0001ea  e9cd0102          STRD     r0,r1,[sp,#8]         ;330
0001ee  f7fffffe          BL       __aeabi_dmul
0001f2  4607              MOV      r7,r0                 ;330
0001f4  f7fffffe          BL       __aeabi_d2f
0001f8  495c              LDR      r1,|L2.876|
0001fa  6108              STR      r0,[r1,#0x10]         ;330  ; Moto_Drive
0001fc  79a5              LDRB     r5,[r4,#6]            ;332
0001fe  79e6              LDRB     r6,[r4,#7]            ;333
000200  ea462005          ORR      r0,r6,r5,LSL #8       ;334
000204  f7fffffe          BL       __aeabi_i2d
000208  4a5b              LDR      r2,|L2.888|
00020a  4b5c              LDR      r3,|L2.892|
00020c  e9cd0102          STRD     r0,r1,[sp,#8]         ;334
000210  f7fffffe          BL       __aeabi_dmul
000214  4607              MOV      r7,r0                 ;334
000216  f7fffffe          BL       __aeabi_d2f
00021a  4954              LDR      r1,|L2.876|
00021c  6208              STR      r0,[r1,#0x20]         ;334  ; Moto_Drive
00021e  7a25              LDRB     r5,[r4,#8]            ;335
000220  7a66              LDRB     r6,[r4,#9]            ;336
000222  ea462005          ORR      r0,r6,r5,LSL #8       ;337
000226  f7fffffe          BL       __aeabi_i2d
00022a  4a4d              LDR      r2,|L2.864|
00022c  4b4d              LDR      r3,|L2.868|
00022e  e9cd0102          STRD     r0,r1,[sp,#8]         ;337
000232  f7fffffe          BL       __aeabi_dmul
000236  4607              MOV      r7,r0                 ;337
000238  f7fffffe          BL       __aeabi_d2f
00023c  4950              LDR      r1,|L2.896|
00023e  61c8              STR      r0,[r1,#0x1c]         ;337  ; PID_Roll_P_Struct
000240  7aa5              LDRB     r5,[r4,#0xa]          ;338
000242  7ae6              LDRB     r6,[r4,#0xb]          ;339
000244  ea462005          ORR      r0,r6,r5,LSL #8       ;340
000248  f7fffffe          BL       __aeabi_i2d
00024c  4a44              LDR      r2,|L2.864|
00024e  4b45              LDR      r3,|L2.868|
000250  e9cd0102          STRD     r0,r1,[sp,#8]         ;340
000254  f7fffffe          BL       __aeabi_dmul
000258  4607              MOV      r7,r0                 ;340
00025a  f7fffffe          BL       __aeabi_d2f
00025e  4949              LDR      r1,|L2.900|
000260  6148              STR      r0,[r1,#0x14]         ;340  ; PID_Pitch_P_Struct
000262  7b25              LDRB     r5,[r4,#0xc]          ;341
000264  7b66              LDRB     r6,[r4,#0xd]          ;342
000266  ea462005          ORR      r0,r6,r5,LSL #8       ;343
00026a  f7fffffe          BL       __aeabi_i2d
00026e  4a3c              LDR      r2,|L2.864|
000270  4b3c              LDR      r3,|L2.868|
000272  e9cd0102          STRD     r0,r1,[sp,#8]         ;343
000276  f7fffffe          BL       __aeabi_dmul
00027a  4607              MOV      r7,r0                 ;343
00027c  f7fffffe          BL       __aeabi_d2f
000280  4940              LDR      r1,|L2.900|
000282  6188              STR      r0,[r1,#0x18]         ;343  ; PID_Pitch_P_Struct
000284  7ba5              LDRB     r5,[r4,#0xe]          ;344
000286  7be6              LDRB     r6,[r4,#0xf]          ;345
000288  ea462005          ORR      r0,r6,r5,LSL #8       ;346
00028c  f7fffffe          BL       __aeabi_i2d
000290  4a33              LDR      r2,|L2.864|
000292  4b34              LDR      r3,|L2.868|
000294  e9cd0102          STRD     r0,r1,[sp,#8]         ;346
000298  f7fffffe          BL       __aeabi_dmul
00029c  4607              MOV      r7,r0                 ;346
00029e  f7fffffe          BL       __aeabi_d2f
0002a2  4938              LDR      r1,|L2.900|
0002a4  61c8              STR      r0,[r1,#0x1c]         ;346  ; PID_Pitch_P_Struct
0002a6  7c25              LDRB     r5,[r4,#0x10]         ;347
0002a8  7c66              LDRB     r6,[r4,#0x11]         ;348
0002aa  ea462005          ORR      r0,r6,r5,LSL #8       ;349
0002ae  f7fffffe          BL       __aeabi_i2d
0002b2  4607              MOV      r7,r0                 ;349
0002b4  4a2a              LDR      r2,|L2.864|
0002b6  4b2b              LDR      r3,|L2.868|
0002b8  f7fffffe          BL       __aeabi_dmul
0002bc  e9cd0102          STRD     r0,r1,[sp,#8]         ;349
0002c0  f7fffffe          BL       __aeabi_d2f
0002c4  4930              LDR      r1,|L2.904|
0002c6  6148              STR      r0,[r1,#0x14]         ;349  ; PID_Yaw_P_Struct
0002c8  7ca5              LDRB     r5,[r4,#0x12]         ;350
0002ca  7ce6              LDRB     r6,[r4,#0x13]         ;351
0002cc  ea462005          ORR      r0,r6,r5,LSL #8       ;352
0002d0  f7fffffe          BL       __aeabi_i2d
0002d4  4a22              LDR      r2,|L2.864|
0002d6  e000              B        |L2.730|
                  |L2.728|
0002d8  e01f              B        |L2.794|
                  |L2.730|
0002da  4b22              LDR      r3,|L2.868|
0002dc  e9cd0102          STRD     r0,r1,[sp,#8]         ;352
0002e0  f7fffffe          BL       __aeabi_dmul
0002e4  4607              MOV      r7,r0                 ;352
0002e6  f7fffffe          BL       __aeabi_d2f
0002ea  4927              LDR      r1,|L2.904|
0002ec  6188              STR      r0,[r1,#0x18]         ;352  ; PID_Yaw_P_Struct
0002ee  7d25              LDRB     r5,[r4,#0x14]         ;353
0002f0  7d66              LDRB     r6,[r4,#0x15]         ;354
0002f2  ea462005          ORR      r0,r6,r5,LSL #8       ;355
0002f6  f7fffffe          BL       __aeabi_i2d
0002fa  4607              MOV      r7,r0                 ;355
0002fc  4a18              LDR      r2,|L2.864|
0002fe  4b19              LDR      r3,|L2.868|
000300  f7fffffe          BL       __aeabi_dmul
000304  e9cd0102          STRD     r0,r1,[sp,#8]         ;355
000308  f7fffffe          BL       __aeabi_d2f
00030c  491e              LDR      r1,|L2.904|
00030e  61c8              STR      r0,[r1,#0x1c]         ;355  ; PID_Yaw_P_Struct
000310  78a0              LDRB     r0,[r4,#2]            ;356
000312  4651              MOV      r1,r10                ;356
000314  f7fffffe          BL       ANO_DT_Send_Check
000318  bf00              NOP                            ;358
                  |L2.794|
00031a  78a0              LDRB     r0,[r4,#2]            ;359
00031c  2812              CMP      r0,#0x12              ;359
00031e  d103              BNE      |L2.808|
000320  78a0              LDRB     r0,[r4,#2]            ;362
000322  4651              MOV      r1,r10                ;362
000324  f7fffffe          BL       ANO_DT_Send_Check
                  |L2.808|
000328  78a0              LDRB     r0,[r4,#2]            ;365
00032a  2813              CMP      r0,#0x13              ;365
00032c  d103              BNE      |L2.822|
00032e  78a0              LDRB     r0,[r4,#2]            ;367
000330  4651              MOV      r1,r10                ;367
000332  f7fffffe          BL       ANO_DT_Send_Check
                  |L2.822|
000336  78a0              LDRB     r0,[r4,#2]            ;369
000338  2814              CMP      r0,#0x14              ;369
00033a  d103              BNE      |L2.836|
00033c  78a0              LDRB     r0,[r4,#2]            ;371
00033e  4651              MOV      r1,r10                ;371
000340  f7fffffe          BL       ANO_DT_Send_Check
                  |L2.836|
000344  78a0              LDRB     r0,[r4,#2]            ;373
000346  2815              CMP      r0,#0x15              ;373
000348  d103              BNE      |L2.850|
00034a  78a0              LDRB     r0,[r4,#2]            ;375
00034c  4651              MOV      r1,r10                ;375
00034e  f7fffffe          BL       ANO_DT_Send_Check
                  |L2.850|
000352  bf00              NOP      
000354  e66f              B        |L2.54|
;;;378    
                          ENDP

000356  0000              DCW      0x0000
                  |L2.856|
                          DCD      mpu6050
                  |L2.860|
                          DCD      f
                  |L2.864|
                          DCD      0xd2f1a9fc
                  |L2.868|
                          DCD      0x3f50624d
                  |L2.872|
                          DCD      PID_Moto_Drive
                  |L2.876|
                          DCD      Moto_Drive
                  |L2.880|
                          DCD      0xbf800000
                  |L2.884|
                          DCD      PID_Power_Struct
                  |L2.888|
                          DCD      0x9999999a
                  |L2.892|
                          DCD      0x3fb99999
                  |L2.896|
                          DCD      PID_Roll_P_Struct
                  |L2.900|
                          DCD      PID_Pitch_P_Struct
                  |L2.904|
                          DCD      PID_Yaw_P_Struct

                          AREA ||i.ANO_DT_Data_Receive_Prepare||, CODE, READONLY, ALIGN=2

                  ANO_DT_Data_Receive_Prepare PROC
;;;182    //此函数解析出符合格式的数据帧后，会自行调用数据解析函数
;;;183    void ANO_DT_Data_Receive_Prepare(u8 data)
000000  b510              PUSH     {r4,lr}
;;;184    {
000002  4604              MOV      r4,r0
;;;185    	static volatile u8 RxBuffer[50];
;;;186    	static u8 _data_len = 0,_data_cnt = 0;
;;;187    	static u8 state = 0;
;;;188    	
;;;189    	if(state==0&&data==0xAA)
000004  4834              LDR      r0,|L3.216|
000006  7800              LDRB     r0,[r0,#0]  ; state
000008  b938              CBNZ     r0,|L3.26|
00000a  2caa              CMP      r4,#0xaa
00000c  d105              BNE      |L3.26|
;;;190    	{
;;;191    		state=1;
00000e  2001              MOVS     r0,#1
000010  4931              LDR      r1,|L3.216|
000012  7008              STRB     r0,[r1,#0]
;;;192    		RxBuffer[0]=data;
000014  4831              LDR      r0,|L3.220|
000016  7004              STRB     r4,[r0,#0]
000018  e05d              B        |L3.214|
                  |L3.26|
;;;193    	}
;;;194    	else if(state==1&&data==0xAF)
00001a  482f              LDR      r0,|L3.216|
00001c  7800              LDRB     r0,[r0,#0]  ; state
00001e  2801              CMP      r0,#1
000020  d107              BNE      |L3.50|
000022  2caf              CMP      r4,#0xaf
000024  d105              BNE      |L3.50|
;;;195    	{
;;;196    		state=2;
000026  2002              MOVS     r0,#2
000028  492b              LDR      r1,|L3.216|
00002a  7008              STRB     r0,[r1,#0]
;;;197    		RxBuffer[1]=data;
00002c  482b              LDR      r0,|L3.220|
00002e  7044              STRB     r4,[r0,#1]
000030  e051              B        |L3.214|
                  |L3.50|
;;;198    	}
;;;199    	else if(state==2&&data<0XF1)
000032  4829              LDR      r0,|L3.216|
000034  7800              LDRB     r0,[r0,#0]  ; state
000036  2802              CMP      r0,#2
000038  d107              BNE      |L3.74|
00003a  2cf1              CMP      r4,#0xf1
00003c  da05              BGE      |L3.74|
;;;200    	{
;;;201    		state=3;
00003e  2003              MOVS     r0,#3
000040  4925              LDR      r1,|L3.216|
000042  7008              STRB     r0,[r1,#0]
;;;202    		RxBuffer[2]=data;
000044  4825              LDR      r0,|L3.220|
000046  7084              STRB     r4,[r0,#2]
000048  e045              B        |L3.214|
                  |L3.74|
;;;203    	}
;;;204    	else if(state==3&&data<50)
00004a  4823              LDR      r0,|L3.216|
00004c  7800              LDRB     r0,[r0,#0]  ; state
00004e  2803              CMP      r0,#3
000050  d10c              BNE      |L3.108|
000052  2c32              CMP      r4,#0x32
000054  da0a              BGE      |L3.108|
;;;205    	{
;;;206    		state = 4;
000056  2004              MOVS     r0,#4
000058  491f              LDR      r1,|L3.216|
00005a  7008              STRB     r0,[r1,#0]
;;;207    		RxBuffer[3]=data;
00005c  481f              LDR      r0,|L3.220|
00005e  70c4              STRB     r4,[r0,#3]
;;;208    		_data_len = data;
000060  481f              LDR      r0,|L3.224|
000062  7004              STRB     r4,[r0,#0]
;;;209    		_data_cnt = 0;
000064  2000              MOVS     r0,#0
000066  491f              LDR      r1,|L3.228|
000068  7008              STRB     r0,[r1,#0]
00006a  e034              B        |L3.214|
                  |L3.108|
;;;210    	}
;;;211    	else if(state==4&&_data_len>0)
00006c  481a              LDR      r0,|L3.216|
00006e  7800              LDRB     r0,[r0,#0]  ; state
000070  2804              CMP      r0,#4
000072  d119              BNE      |L3.168|
000074  481a              LDR      r0,|L3.224|
000076  7800              LDRB     r0,[r0,#0]  ; _data_len
000078  2800              CMP      r0,#0
00007a  dd15              BLE      |L3.168|
;;;212    	{
;;;213    		_data_len--;
00007c  4818              LDR      r0,|L3.224|
00007e  7800              LDRB     r0,[r0,#0]  ; _data_len
000080  1e40              SUBS     r0,r0,#1
000082  4917              LDR      r1,|L3.224|
000084  7008              STRB     r0,[r1,#0]
;;;214    		RxBuffer[4+_data_cnt++]=data;
000086  4817              LDR      r0,|L3.228|
000088  7800              LDRB     r0,[r0,#0]  ; _data_cnt
00008a  4916              LDR      r1,|L3.228|
00008c  7809              LDRB     r1,[r1,#0]  ; _data_cnt
00008e  1c49              ADDS     r1,r1,#1
000090  4a14              LDR      r2,|L3.228|
000092  7011              STRB     r1,[r2,#0]
000094  1d00              ADDS     r0,r0,#4
000096  4911              LDR      r1,|L3.220|
000098  540c              STRB     r4,[r1,r0]
;;;215    		if(_data_len==0)
00009a  4811              LDR      r0,|L3.224|
00009c  7800              LDRB     r0,[r0,#0]  ; _data_len
00009e  b9d0              CBNZ     r0,|L3.214|
;;;216    			state = 5;
0000a0  2005              MOVS     r0,#5
0000a2  490d              LDR      r1,|L3.216|
0000a4  7008              STRB     r0,[r1,#0]
0000a6  e016              B        |L3.214|
                  |L3.168|
;;;217    	}
;;;218    	else if(state==5)
0000a8  480b              LDR      r0,|L3.216|
0000aa  7800              LDRB     r0,[r0,#0]  ; state
0000ac  2805              CMP      r0,#5
0000ae  d10f              BNE      |L3.208|
;;;219    	{
;;;220    		state = 0;
0000b0  2000              MOVS     r0,#0
0000b2  4909              LDR      r1,|L3.216|
0000b4  7008              STRB     r0,[r1,#0]
;;;221    		RxBuffer[4+_data_cnt]=data;
0000b6  480b              LDR      r0,|L3.228|
0000b8  7800              LDRB     r0,[r0,#0]  ; _data_cnt
0000ba  1d00              ADDS     r0,r0,#4
0000bc  4907              LDR      r1,|L3.220|
0000be  540c              STRB     r4,[r1,r0]
;;;222    		ANO_DT_Data_Receive_Anl(RxBuffer,_data_cnt+5);
0000c0  4808              LDR      r0,|L3.228|
0000c2  7800              LDRB     r0,[r0,#0]  ; _data_cnt
0000c4  1d40              ADDS     r0,r0,#5
0000c6  b2c1              UXTB     r1,r0
0000c8  4804              LDR      r0,|L3.220|
0000ca  f7fffffe          BL       ANO_DT_Data_Receive_Anl
0000ce  e002              B        |L3.214|
                  |L3.208|
;;;223    	}
;;;224    	else
;;;225    		state = 0;
0000d0  2000              MOVS     r0,#0
0000d2  4901              LDR      r1,|L3.216|
0000d4  7008              STRB     r0,[r1,#0]
                  |L3.214|
;;;226    }
0000d6  bd10              POP      {r4,pc}
;;;227    /////////////////////////////////////////////////////////////////////////////////////
                          ENDP

                  |L3.216|
                          DCD      state
                  |L3.220|
                          DCD      RxBuffer
                  |L3.224|
                          DCD      _data_len
                  |L3.228|
                          DCD      _data_cnt

                          AREA ||i.ANO_DT_Send_Check||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Check PROC
;;;158    
;;;159    static void ANO_DT_Send_Check(u8 head, u8 check_sum)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;160    {
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
;;;161    	u8 sum = 0;
000008  2700              MOVS     r7,#0
;;;162    	u8 i;
;;;163    	data_to_send[0]=0xAA;
00000a  20aa              MOVS     r0,#0xaa
00000c  490d              LDR      r1,|L4.68|
00000e  7008              STRB     r0,[r1,#0]
;;;164    	data_to_send[1]=0xAA;
000010  7048              STRB     r0,[r1,#1]
;;;165    	data_to_send[2]=0xEF;
000012  20ef              MOVS     r0,#0xef
000014  7088              STRB     r0,[r1,#2]
;;;166    	data_to_send[3]=2;
000016  2002              MOVS     r0,#2
000018  70c8              STRB     r0,[r1,#3]
;;;167    	data_to_send[4]=head;
00001a  4608              MOV      r0,r1
00001c  7105              STRB     r5,[r0,#4]
;;;168    	data_to_send[5]=check_sum;
00001e  7146              STRB     r6,[r0,#5]
;;;169    	
;;;170    	
;;;171    	
;;;172    	for(i=0;i<6;i++)
000020  2400              MOVS     r4,#0
000022  e005              B        |L4.48|
                  |L4.36|
;;;173    		sum += data_to_send[i];
000024  4807              LDR      r0,|L4.68|
000026  5d00              LDRB     r0,[r0,r4]
000028  4438              ADD      r0,r0,r7
00002a  b2c7              UXTB     r7,r0
00002c  1c60              ADDS     r0,r4,#1              ;172
00002e  b2c4              UXTB     r4,r0                 ;172
                  |L4.48|
000030  2c06              CMP      r4,#6                 ;172
000032  dbf7              BLT      |L4.36|
;;;174    	data_to_send[6]=sum;
000034  4803              LDR      r0,|L4.68|
000036  7187              STRB     r7,[r0,#6]
;;;175    
;;;176    	ANO_DT_Send_Data(data_to_send, 7);
000038  2107              MOVS     r1,#7
00003a  f7fffffe          BL       ANO_DT_Send_Data
;;;177    }
00003e  e8bd81f0          POP      {r4-r8,pc}
;;;178    
                          ENDP

000042  0000              DCW      0x0000
                  |L4.68|
                          DCD      data_to_send

                          AREA ||i.ANO_DT_Send_Data||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Data PROC
;;;150    //移植时，用户应根据自身应用的情况，根据使用的通信方式，实现此函数
;;;151    void ANO_DT_Send_Data(u8 *dataToSend , u8 length)
000000  b570              PUSH     {r4-r6,lr}
;;;152    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;153    
;;;154    //	R_UART1_Send(data_to_send, length);
;;;155    	USART1_Send_Date(USART1,dataToSend , length );
000006  462a              MOV      r2,r5
000008  4621              MOV      r1,r4
00000a  4802              LDR      r0,|L5.20|
00000c  f7fffffe          BL       USART1_Send_Date
;;;156    
;;;157    }
000010  bd70              POP      {r4-r6,pc}
;;;158    
                          ENDP

000012  0000              DCW      0x0000
                  |L5.20|
                          DCD      0x40013800

                          AREA ||i.ANO_DT_Send_MotoPWM||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_MotoPWM PROC
;;;568    }
;;;569    void ANO_DT_Send_MotoPWM(u16 m_1,u16 m_2,u16 m_3,u16 m_4,u16 m_5,u16 m_6,u16 m_7,u16 m_8)
000000  b57f              PUSH     {r0-r6,lr}
;;;570    {
;;;571    	u8 _cnt=0;
000002  2400              MOVS     r4,#0
;;;572    	u8 sum = 0;
000004  2600              MOVS     r6,#0
;;;573    	u8 i=0;
000006  2500              MOVS     r5,#0
;;;574    	
;;;575    	data_to_send[_cnt++]=0xAA;
000008  22aa              MOVS     r2,#0xaa
00000a  4621              MOV      r1,r4
00000c  1c64              ADDS     r4,r4,#1
00000e  4846              LDR      r0,|L6.296|
000010  5442              STRB     r2,[r0,r1]
;;;576    	data_to_send[_cnt++]=0xAA;
000012  4621              MOV      r1,r4
000014  1c64              ADDS     r4,r4,#1
000016  5442              STRB     r2,[r0,r1]
;;;577    	data_to_send[_cnt++]=0x06;
000018  2206              MOVS     r2,#6
00001a  4621              MOV      r1,r4
00001c  1c64              ADDS     r4,r4,#1
00001e  5442              STRB     r2,[r0,r1]
;;;578    	data_to_send[_cnt++]=0;
000020  2200              MOVS     r2,#0
000022  4621              MOV      r1,r4
000024  1c64              ADDS     r4,r4,#1
000026  5442              STRB     r2,[r0,r1]
;;;579    	
;;;580    	data_to_send[_cnt++]=BYTE1(m_1);
000028  f89d2001          LDRB     r2,[sp,#1]
00002c  4621              MOV      r1,r4
00002e  1c64              ADDS     r4,r4,#1
000030  5442              STRB     r2,[r0,r1]
;;;581    	data_to_send[_cnt++]=BYTE0(m_1);
000032  f89d2000          LDRB     r2,[sp,#0]
000036  4621              MOV      r1,r4
000038  1c64              ADDS     r4,r4,#1
00003a  5442              STRB     r2,[r0,r1]
;;;582    	data_to_send[_cnt++]=BYTE1(m_2);
00003c  f89d2005          LDRB     r2,[sp,#5]
000040  4621              MOV      r1,r4
000042  1c64              ADDS     r4,r4,#1
000044  5442              STRB     r2,[r0,r1]
;;;583    	data_to_send[_cnt++]=BYTE0(m_2);
000046  f89d2004          LDRB     r2,[sp,#4]
00004a  4620              MOV      r0,r4
00004c  1c61              ADDS     r1,r4,#1
00004e  b2cc              UXTB     r4,r1
000050  4935              LDR      r1,|L6.296|
000052  540a              STRB     r2,[r1,r0]
;;;584    	data_to_send[_cnt++]=BYTE1(m_3);
000054  f89d2009          LDRB     r2,[sp,#9]
000058  4620              MOV      r0,r4
00005a  1c61              ADDS     r1,r4,#1
00005c  b2cc              UXTB     r4,r1
00005e  4932              LDR      r1,|L6.296|
000060  540a              STRB     r2,[r1,r0]
;;;585    	data_to_send[_cnt++]=BYTE0(m_3);
000062  f89d2008          LDRB     r2,[sp,#8]
000066  4620              MOV      r0,r4
000068  1c61              ADDS     r1,r4,#1
00006a  b2cc              UXTB     r4,r1
00006c  492e              LDR      r1,|L6.296|
00006e  540a              STRB     r2,[r1,r0]
;;;586    	data_to_send[_cnt++]=BYTE1(m_4);
000070  f89d200d          LDRB     r2,[sp,#0xd]
000074  4620              MOV      r0,r4
000076  1c61              ADDS     r1,r4,#1
000078  b2cc              UXTB     r4,r1
00007a  492b              LDR      r1,|L6.296|
00007c  540a              STRB     r2,[r1,r0]
;;;587    	data_to_send[_cnt++]=BYTE0(m_4);
00007e  f89d200c          LDRB     r2,[sp,#0xc]
000082  4621              MOV      r1,r4
000084  1c60              ADDS     r0,r4,#1
000086  b2c4              UXTB     r4,r0
000088  4827              LDR      r0,|L6.296|
00008a  5442              STRB     r2,[r0,r1]
;;;588    	data_to_send[_cnt++]=BYTE1(m_5);
00008c  f89d2021          LDRB     r2,[sp,#0x21]
000090  4620              MOV      r0,r4
000092  1c61              ADDS     r1,r4,#1
000094  b2cc              UXTB     r4,r1
000096  4924              LDR      r1,|L6.296|
000098  540a              STRB     r2,[r1,r0]
;;;589    	data_to_send[_cnt++]=BYTE0(m_5);
00009a  f89d2020          LDRB     r2,[sp,#0x20]
00009e  4620              MOV      r0,r4
0000a0  1c61              ADDS     r1,r4,#1
0000a2  b2cc              UXTB     r4,r1
0000a4  4920              LDR      r1,|L6.296|
0000a6  540a              STRB     r2,[r1,r0]
;;;590    	data_to_send[_cnt++]=BYTE1(m_6);
0000a8  f89d2025          LDRB     r2,[sp,#0x25]
0000ac  4620              MOV      r0,r4
0000ae  1c61              ADDS     r1,r4,#1
0000b0  b2cc              UXTB     r4,r1
0000b2  491d              LDR      r1,|L6.296|
0000b4  540a              STRB     r2,[r1,r0]
;;;591    	data_to_send[_cnt++]=BYTE0(m_6);
0000b6  f89d2024          LDRB     r2,[sp,#0x24]
0000ba  4620              MOV      r0,r4
0000bc  1c61              ADDS     r1,r4,#1
0000be  b2cc              UXTB     r4,r1
0000c0  4919              LDR      r1,|L6.296|
0000c2  540a              STRB     r2,[r1,r0]
;;;592    	data_to_send[_cnt++]=BYTE1(m_7);
0000c4  f89d2029          LDRB     r2,[sp,#0x29]
0000c8  4620              MOV      r0,r4
0000ca  1c61              ADDS     r1,r4,#1
0000cc  b2cc              UXTB     r4,r1
0000ce  4916              LDR      r1,|L6.296|
0000d0  540a              STRB     r2,[r1,r0]
;;;593    	data_to_send[_cnt++]=BYTE0(m_7);
0000d2  f89d2028          LDRB     r2,[sp,#0x28]
0000d6  4620              MOV      r0,r4
0000d8  1c61              ADDS     r1,r4,#1
0000da  b2cc              UXTB     r4,r1
0000dc  4912              LDR      r1,|L6.296|
0000de  540a              STRB     r2,[r1,r0]
;;;594    	data_to_send[_cnt++]=BYTE1(m_8);
0000e0  f89d202d          LDRB     r2,[sp,#0x2d]
0000e4  4621              MOV      r1,r4
0000e6  1c60              ADDS     r0,r4,#1
0000e8  b2c4              UXTB     r4,r0
0000ea  480f              LDR      r0,|L6.296|
0000ec  5442              STRB     r2,[r0,r1]
;;;595    	data_to_send[_cnt++]=BYTE0(m_8);
0000ee  f89d202c          LDRB     r2,[sp,#0x2c]
0000f2  4620              MOV      r0,r4
0000f4  1c61              ADDS     r1,r4,#1
0000f6  b2cc              UXTB     r4,r1
0000f8  490b              LDR      r1,|L6.296|
0000fa  540a              STRB     r2,[r1,r0]
;;;596    	
;;;597    	data_to_send[3] = _cnt-4;
0000fc  1f20              SUBS     r0,r4,#4
0000fe  70c8              STRB     r0,[r1,#3]
;;;598    	
;;;599    	
;;;600    	for(;i<_cnt;i++)
000100  e005              B        |L6.270|
                  |L6.258|
;;;601    		sum += data_to_send[i];
000102  4809              LDR      r0,|L6.296|
000104  5d40              LDRB     r0,[r0,r5]
000106  4430              ADD      r0,r0,r6
000108  b2c6              UXTB     r6,r0
00010a  1c68              ADDS     r0,r5,#1              ;600
00010c  b2c5              UXTB     r5,r0                 ;600
                  |L6.270|
00010e  42a5              CMP      r5,r4                 ;600
000110  dbf7              BLT      |L6.258|
;;;602    	
;;;603    	data_to_send[_cnt++]=sum;
000112  4620              MOV      r0,r4
000114  1c61              ADDS     r1,r4,#1
000116  b2cc              UXTB     r4,r1
000118  4903              LDR      r1,|L6.296|
00011a  540e              STRB     r6,[r1,r0]
;;;604    	
;;;605    	ANO_DT_Send_Data(data_to_send, _cnt);
00011c  4621              MOV      r1,r4
00011e  4802              LDR      r0,|L6.296|
000120  f7fffffe          BL       ANO_DT_Send_Data
;;;606    }
000124  bd7f              POP      {r0-r6,pc}
;;;607    void ANO_DT_Send_PID(u8 group,float p1_p,float p1_i,float p1_d,float p2_p,float p2_i,float p2_d,float p3_p,float p3_i,float p3_d)
                          ENDP

000126  0000              DCW      0x0000
                  |L6.296|
                          DCD      data_to_send

                          AREA ||i.ANO_DT_Send_PID||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_PID PROC
;;;606    }
;;;607    void ANO_DT_Send_PID(u8 group,float p1_p,float p1_i,float p1_d,float p2_p,float p2_i,float p2_d,float p3_p,float p3_i,float p3_d)
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;608    {
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4690              MOV      r8,r2
00000a  4699              MOV      r9,r3
00000c  f8ddb030          LDR      r11,[sp,#0x30]
;;;609    	u8 _cnt=0;
000010  2400              MOVS     r4,#0
;;;610    	vs16 _temp;
;;;611    	u8 sum = 0;
000012  46a2              MOV      r10,r4
;;;612    	u8 i=0;
000014  2500              MOVS     r5,#0
;;;613    	data_to_send[_cnt++]=0xAA;
000016  22aa              MOVS     r2,#0xaa
000018  4621              MOV      r1,r4
00001a  1c64              ADDS     r4,r4,#1
00001c  4876              LDR      r0,|L7.504|
00001e  5442              STRB     r2,[r0,r1]
;;;614    	data_to_send[_cnt++]=0xAA;
000020  4621              MOV      r1,r4
000022  1c64              ADDS     r4,r4,#1
000024  5442              STRB     r2,[r0,r1]
;;;615    	data_to_send[_cnt++]=0x10+group-1;
000026  f106000f          ADD      r0,r6,#0xf
00002a  b2c2              UXTB     r2,r0
00002c  4621              MOV      r1,r4
00002e  1c64              ADDS     r4,r4,#1
000030  4871              LDR      r0,|L7.504|
000032  5442              STRB     r2,[r0,r1]
;;;616    	data_to_send[_cnt++]=0;
000034  2200              MOVS     r2,#0
000036  4621              MOV      r1,r4
000038  1c64              ADDS     r4,r4,#1
00003a  5442              STRB     r2,[r0,r1]
;;;617    	
;;;618    	
;;;619    	_temp = p1_p * 1000;
00003c  496f              LDR      r1,|L7.508|
00003e  4638              MOV      r0,r7
000040  f7fffffe          BL       __aeabi_fmul
000044  9001              STR      r0,[sp,#4]
000046  f7fffffe          BL       __aeabi_f2iz
00004a  9002              STR      r0,[sp,#8]
;;;620    	data_to_send[_cnt++]=BYTE1(_temp);
00004c  f89d2009          LDRB     r2,[sp,#9]
000050  4621              MOV      r1,r4
000052  1c64              ADDS     r4,r4,#1
000054  4868              LDR      r0,|L7.504|
000056  5442              STRB     r2,[r0,r1]
;;;621    	data_to_send[_cnt++]=BYTE0(_temp);
000058  f89d2008          LDRB     r2,[sp,#8]
00005c  4621              MOV      r1,r4
00005e  1c64              ADDS     r4,r4,#1
000060  5442              STRB     r2,[r0,r1]
;;;622    	_temp = p1_i  * 1000;
000062  4966              LDR      r1,|L7.508|
000064  4640              MOV      r0,r8
000066  f7fffffe          BL       __aeabi_fmul
00006a  9001              STR      r0,[sp,#4]
00006c  f7fffffe          BL       __aeabi_f2iz
000070  9002              STR      r0,[sp,#8]
;;;623    	data_to_send[_cnt++]=BYTE1(_temp);
000072  f89d2009          LDRB     r2,[sp,#9]
000076  4621              MOV      r1,r4
000078  1c64              ADDS     r4,r4,#1
00007a  485f              LDR      r0,|L7.504|
00007c  5442              STRB     r2,[r0,r1]
;;;624    	data_to_send[_cnt++]=BYTE0(_temp);
00007e  f89d2008          LDRB     r2,[sp,#8]
000082  4620              MOV      r0,r4
000084  1c61              ADDS     r1,r4,#1
000086  b2cc              UXTB     r4,r1
000088  495b              LDR      r1,|L7.504|
00008a  540a              STRB     r2,[r1,r0]
;;;625    	_temp = p1_d  * 1000;
00008c  495b              LDR      r1,|L7.508|
00008e  4648              MOV      r0,r9
000090  f7fffffe          BL       __aeabi_fmul
000094  9001              STR      r0,[sp,#4]
000096  f7fffffe          BL       __aeabi_f2iz
00009a  9002              STR      r0,[sp,#8]
;;;626    	data_to_send[_cnt++]=BYTE1(_temp);
00009c  f89d2009          LDRB     r2,[sp,#9]
0000a0  4620              MOV      r0,r4
0000a2  1c61              ADDS     r1,r4,#1
0000a4  b2cc              UXTB     r4,r1
0000a6  4954              LDR      r1,|L7.504|
0000a8  540a              STRB     r2,[r1,r0]
;;;627    	data_to_send[_cnt++]=BYTE0(_temp);
0000aa  f89d2008          LDRB     r2,[sp,#8]
0000ae  4620              MOV      r0,r4
0000b0  1c61              ADDS     r1,r4,#1
0000b2  b2cc              UXTB     r4,r1
0000b4  4950              LDR      r1,|L7.504|
0000b6  540a              STRB     r2,[r1,r0]
;;;628    	_temp = p2_p  * 1000/1000;
0000b8  4950              LDR      r1,|L7.508|
0000ba  4658              MOV      r0,r11
0000bc  f7fffffe          BL       __aeabi_fmul
0000c0  494e              LDR      r1,|L7.508|
0000c2  9000              STR      r0,[sp,#0]
0000c4  f7fffffe          BL       __aeabi_fdiv
0000c8  9001              STR      r0,[sp,#4]
0000ca  f7fffffe          BL       __aeabi_f2iz
0000ce  9002              STR      r0,[sp,#8]
;;;629    	data_to_send[_cnt++]=BYTE1(_temp);
0000d0  f89d2009          LDRB     r2,[sp,#9]
0000d4  4620              MOV      r0,r4
0000d6  1c61              ADDS     r1,r4,#1
0000d8  b2cc              UXTB     r4,r1
0000da  4947              LDR      r1,|L7.504|
0000dc  540a              STRB     r2,[r1,r0]
;;;630    	data_to_send[_cnt++]=BYTE0(_temp);
0000de  f89d2008          LDRB     r2,[sp,#8]
0000e2  4620              MOV      r0,r4
0000e4  1c61              ADDS     r1,r4,#1
0000e6  b2cc              UXTB     r4,r1
0000e8  4943              LDR      r1,|L7.504|
0000ea  540a              STRB     r2,[r1,r0]
;;;631    	_temp = p2_i  * 1000;
0000ec  4943              LDR      r1,|L7.508|
0000ee  980d              LDR      r0,[sp,#0x34]
0000f0  f7fffffe          BL       __aeabi_fmul
0000f4  9001              STR      r0,[sp,#4]
0000f6  f7fffffe          BL       __aeabi_f2iz
0000fa  9002              STR      r0,[sp,#8]
;;;632    	data_to_send[_cnt++]=BYTE1(_temp);
0000fc  f89d2009          LDRB     r2,[sp,#9]
000100  4620              MOV      r0,r4
000102  1c61              ADDS     r1,r4,#1
000104  b2cc              UXTB     r4,r1
000106  493c              LDR      r1,|L7.504|
000108  540a              STRB     r2,[r1,r0]
;;;633    	data_to_send[_cnt++]=BYTE0(_temp);
00010a  f89d2008          LDRB     r2,[sp,#8]
00010e  4620              MOV      r0,r4
000110  1c61              ADDS     r1,r4,#1
000112  b2cc              UXTB     r4,r1
000114  4938              LDR      r1,|L7.504|
000116  540a              STRB     r2,[r1,r0]
;;;634    	_temp = p2_d * 1000;
000118  4938              LDR      r1,|L7.508|
00011a  980e              LDR      r0,[sp,#0x38]
00011c  f7fffffe          BL       __aeabi_fmul
000120  9001              STR      r0,[sp,#4]
000122  f7fffffe          BL       __aeabi_f2iz
000126  9002              STR      r0,[sp,#8]
;;;635    	data_to_send[_cnt++]=BYTE1(_temp);
000128  f89d2009          LDRB     r2,[sp,#9]
00012c  4620              MOV      r0,r4
00012e  1c61              ADDS     r1,r4,#1
000130  b2cc              UXTB     r4,r1
000132  4931              LDR      r1,|L7.504|
000134  540a              STRB     r2,[r1,r0]
;;;636    	data_to_send[_cnt++]=BYTE0(_temp);
000136  f89d2008          LDRB     r2,[sp,#8]
00013a  4620              MOV      r0,r4
00013c  1c61              ADDS     r1,r4,#1
00013e  b2cc              UXTB     r4,r1
000140  492d              LDR      r1,|L7.504|
000142  540a              STRB     r2,[r1,r0]
;;;637    	_temp = p3_p  * 1000;
000144  492d              LDR      r1,|L7.508|
000146  980f              LDR      r0,[sp,#0x3c]
000148  f7fffffe          BL       __aeabi_fmul
00014c  9001              STR      r0,[sp,#4]
00014e  f7fffffe          BL       __aeabi_f2iz
000152  9002              STR      r0,[sp,#8]
;;;638    	data_to_send[_cnt++]=BYTE1(_temp);
000154  f89d2009          LDRB     r2,[sp,#9]
000158  4620              MOV      r0,r4
00015a  1c61              ADDS     r1,r4,#1
00015c  b2cc              UXTB     r4,r1
00015e  4926              LDR      r1,|L7.504|
000160  540a              STRB     r2,[r1,r0]
;;;639    	data_to_send[_cnt++]=BYTE0(_temp);
000162  f89d2008          LDRB     r2,[sp,#8]
000166  4620              MOV      r0,r4
000168  1c61              ADDS     r1,r4,#1
00016a  b2cc              UXTB     r4,r1
00016c  4922              LDR      r1,|L7.504|
00016e  540a              STRB     r2,[r1,r0]
;;;640    	_temp = p3_i  * 1000;
000170  4922              LDR      r1,|L7.508|
000172  9810              LDR      r0,[sp,#0x40]
000174  f7fffffe          BL       __aeabi_fmul
000178  9001              STR      r0,[sp,#4]
00017a  f7fffffe          BL       __aeabi_f2iz
00017e  9002              STR      r0,[sp,#8]
;;;641    	data_to_send[_cnt++]=BYTE1(_temp);
000180  f89d2009          LDRB     r2,[sp,#9]
000184  4620              MOV      r0,r4
000186  1c61              ADDS     r1,r4,#1
000188  b2cc              UXTB     r4,r1
00018a  491b              LDR      r1,|L7.504|
00018c  540a              STRB     r2,[r1,r0]
;;;642    	data_to_send[_cnt++]=BYTE0(_temp);
00018e  f89d2008          LDRB     r2,[sp,#8]
000192  4620              MOV      r0,r4
000194  1c61              ADDS     r1,r4,#1
000196  b2cc              UXTB     r4,r1
000198  4917              LDR      r1,|L7.504|
00019a  540a              STRB     r2,[r1,r0]
;;;643    	_temp = p3_d * 1000;
00019c  4917              LDR      r1,|L7.508|
00019e  9811              LDR      r0,[sp,#0x44]
0001a0  f7fffffe          BL       __aeabi_fmul
0001a4  9001              STR      r0,[sp,#4]
0001a6  f7fffffe          BL       __aeabi_f2iz
0001aa  9002              STR      r0,[sp,#8]
;;;644    	data_to_send[_cnt++]=BYTE1(_temp);
0001ac  f89d2009          LDRB     r2,[sp,#9]
0001b0  4620              MOV      r0,r4
0001b2  1c61              ADDS     r1,r4,#1
0001b4  b2cc              UXTB     r4,r1
0001b6  4910              LDR      r1,|L7.504|
0001b8  540a              STRB     r2,[r1,r0]
;;;645    	data_to_send[_cnt++]=BYTE0(_temp);
0001ba  f89d2008          LDRB     r2,[sp,#8]
0001be  4620              MOV      r0,r4
0001c0  1c61              ADDS     r1,r4,#1
0001c2  b2cc              UXTB     r4,r1
0001c4  490c              LDR      r1,|L7.504|
0001c6  540a              STRB     r2,[r1,r0]
;;;646    	
;;;647    	data_to_send[3] = _cnt-4;
0001c8  1f20              SUBS     r0,r4,#4
0001ca  70c8              STRB     r0,[r1,#3]
;;;648    	
;;;649    	
;;;650    	for(;i<_cnt;i++)
0001cc  e006              B        |L7.476|
                  |L7.462|
;;;651    		sum += data_to_send[i];
0001ce  480a              LDR      r0,|L7.504|
0001d0  5d40              LDRB     r0,[r0,r5]
0001d2  4450              ADD      r0,r0,r10
0001d4  f0000aff          AND      r10,r0,#0xff
0001d8  1c68              ADDS     r0,r5,#1              ;650
0001da  b2c5              UXTB     r5,r0                 ;650
                  |L7.476|
0001dc  42a5              CMP      r5,r4                 ;650
0001de  dbf6              BLT      |L7.462|
;;;652    	
;;;653    	data_to_send[_cnt++]=sum;
0001e0  4620              MOV      r0,r4
0001e2  1c61              ADDS     r1,r4,#1
0001e4  b2cc              UXTB     r4,r1
0001e6  4904              LDR      r1,|L7.504|
0001e8  f801a000          STRB     r10,[r1,r0]
;;;654    
;;;655    	ANO_DT_Send_Data(data_to_send, _cnt);
0001ec  4621              MOV      r1,r4
0001ee  4802              LDR      r0,|L7.504|
0001f0  f7fffffe          BL       ANO_DT_Send_Data
;;;656    }
0001f4  e8bd8ffe          POP      {r1-r11,pc}
;;;657    
                          ENDP

                  |L7.504|
                          DCD      data_to_send
                  |L7.508|
                          DCD      0x447a0000

                          AREA ||i.ANO_DT_Send_Power||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Power PROC
;;;539    }
;;;540    void ANO_DT_Send_Power(u16 votage, u16 current)
000000  e92d43f8          PUSH     {r3-r9,lr}
;;;541    {
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
;;;542    	u8 _cnt=0;
000008  2400              MOVS     r4,#0
;;;543    	u16 temp;
;;;544    	u8 sum = 0;
00000a  46a0              MOV      r8,r4
;;;545    	u8 i=0;
00000c  2500              MOVS     r5,#0
;;;546    	
;;;547    	data_to_send[_cnt++]=0xAA;
00000e  22aa              MOVS     r2,#0xaa
000010  4621              MOV      r1,r4
000012  1c64              ADDS     r4,r4,#1
000014  481e              LDR      r0,|L8.144|
000016  5442              STRB     r2,[r0,r1]
;;;548    	data_to_send[_cnt++]=0xAA;
000018  4621              MOV      r1,r4
00001a  1c64              ADDS     r4,r4,#1
00001c  5442              STRB     r2,[r0,r1]
;;;549    	data_to_send[_cnt++]=0x05;
00001e  2205              MOVS     r2,#5
000020  4621              MOV      r1,r4
000022  1c64              ADDS     r4,r4,#1
000024  5442              STRB     r2,[r0,r1]
;;;550    	data_to_send[_cnt++]=0;
000026  2200              MOVS     r2,#0
000028  4621              MOV      r1,r4
00002a  1c64              ADDS     r4,r4,#1
00002c  5442              STRB     r2,[r0,r1]
;;;551    	
;;;552    	temp = votage;
00002e  9600              STR      r6,[sp,#0]
;;;553    	data_to_send[_cnt++]=BYTE1(temp);
000030  f89d2001          LDRB     r2,[sp,#1]
000034  4621              MOV      r1,r4
000036  1c64              ADDS     r4,r4,#1
000038  5442              STRB     r2,[r0,r1]
;;;554    	data_to_send[_cnt++]=BYTE0(temp);
00003a  f89d2000          LDRB     r2,[sp,#0]
00003e  4621              MOV      r1,r4
000040  1c64              ADDS     r4,r4,#1
000042  5442              STRB     r2,[r0,r1]
;;;555    	temp = current;
000044  9700              STR      r7,[sp,#0]
;;;556    	data_to_send[_cnt++]=BYTE1(temp);
000046  f89d2001          LDRB     r2,[sp,#1]
00004a  4621              MOV      r1,r4
00004c  1c64              ADDS     r4,r4,#1
00004e  5442              STRB     r2,[r0,r1]
;;;557    	data_to_send[_cnt++]=BYTE0(temp);
000050  f89d2000          LDRB     r2,[sp,#0]
000054  4620              MOV      r0,r4
000056  1c61              ADDS     r1,r4,#1
000058  b2cc              UXTB     r4,r1
00005a  490d              LDR      r1,|L8.144|
00005c  540a              STRB     r2,[r1,r0]
;;;558    	
;;;559    	data_to_send[3] = _cnt-4;
00005e  1f20              SUBS     r0,r4,#4
000060  70c8              STRB     r0,[r1,#3]
;;;560    	
;;;561    	
;;;562    	for(;i<_cnt;i++)
000062  e006              B        |L8.114|
                  |L8.100|
;;;563    		sum += data_to_send[i];
000064  480a              LDR      r0,|L8.144|
000066  5d40              LDRB     r0,[r0,r5]
000068  4440              ADD      r0,r0,r8
00006a  f00008ff          AND      r8,r0,#0xff
00006e  1c68              ADDS     r0,r5,#1              ;562
000070  b2c5              UXTB     r5,r0                 ;562
                  |L8.114|
000072  42a5              CMP      r5,r4                 ;562
000074  dbf6              BLT      |L8.100|
;;;564    	
;;;565    	data_to_send[_cnt++]=sum;
000076  4620              MOV      r0,r4
000078  1c61              ADDS     r1,r4,#1
00007a  b2cc              UXTB     r4,r1
00007c  4904              LDR      r1,|L8.144|
00007e  f8018000          STRB     r8,[r1,r0]
;;;566    	
;;;567    	ANO_DT_Send_Data(data_to_send, _cnt);
000082  4621              MOV      r1,r4
000084  4802              LDR      r0,|L8.144|
000086  f7fffffe          BL       ANO_DT_Send_Data
;;;568    }
00008a  e8bd83f8          POP      {r3-r9,pc}
;;;569    void ANO_DT_Send_MotoPWM(u16 m_1,u16 m_2,u16 m_3,u16 m_4,u16 m_5,u16 m_6,u16 m_7,u16 m_8)
                          ENDP

00008e  0000              DCW      0x0000
                  |L8.144|
                          DCD      data_to_send

                          AREA ||i.ANO_DT_Send_RCData||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_RCData PROC
;;;499    }
;;;500    void ANO_DT_Send_RCData(u16 thr,u16 yaw,u16 rol,u16 pit,u16 aux1,u16 aux2,u16 aux3,u16 aux4,u16 aux5,u16 aux6)
000000  b57f              PUSH     {r0-r6,lr}
;;;501    {
;;;502    	u8 _cnt=0;
000002  2400              MOVS     r4,#0
;;;503    	u8 sum = 0;
000004  2600              MOVS     r6,#0
;;;504    	u8 i=0;
000006  2500              MOVS     r5,#0
;;;505    	data_to_send[_cnt++]=0xAA;
000008  22aa              MOVS     r2,#0xaa
00000a  4621              MOV      r1,r4
00000c  1c64              ADDS     r4,r4,#1
00000e  4854              LDR      r0,|L9.352|
000010  5442              STRB     r2,[r0,r1]
;;;506    	data_to_send[_cnt++]=0xAA;
000012  4621              MOV      r1,r4
000014  1c64              ADDS     r4,r4,#1
000016  5442              STRB     r2,[r0,r1]
;;;507    	data_to_send[_cnt++]=0x03;
000018  2203              MOVS     r2,#3
00001a  4621              MOV      r1,r4
00001c  1c64              ADDS     r4,r4,#1
00001e  5442              STRB     r2,[r0,r1]
;;;508    	data_to_send[_cnt++]=0;
000020  2200              MOVS     r2,#0
000022  4621              MOV      r1,r4
000024  1c64              ADDS     r4,r4,#1
000026  5442              STRB     r2,[r0,r1]
;;;509    	data_to_send[_cnt++]=BYTE1(thr);
000028  f89d2001          LDRB     r2,[sp,#1]
00002c  4621              MOV      r1,r4
00002e  1c64              ADDS     r4,r4,#1
000030  5442              STRB     r2,[r0,r1]
;;;510    	data_to_send[_cnt++]=BYTE0(thr);
000032  f89d2000          LDRB     r2,[sp,#0]
000036  4621              MOV      r1,r4
000038  1c64              ADDS     r4,r4,#1
00003a  5442              STRB     r2,[r0,r1]
;;;511    	data_to_send[_cnt++]=BYTE1(yaw);
00003c  f89d2005          LDRB     r2,[sp,#5]
000040  4621              MOV      r1,r4
000042  1c64              ADDS     r4,r4,#1
000044  5442              STRB     r2,[r0,r1]
;;;512    	data_to_send[_cnt++]=BYTE0(yaw);
000046  f89d2004          LDRB     r2,[sp,#4]
00004a  4620              MOV      r0,r4
00004c  1c61              ADDS     r1,r4,#1
00004e  b2cc              UXTB     r4,r1
000050  4943              LDR      r1,|L9.352|
000052  540a              STRB     r2,[r1,r0]
;;;513    	data_to_send[_cnt++]=BYTE1(rol);
000054  f89d2009          LDRB     r2,[sp,#9]
000058  4620              MOV      r0,r4
00005a  1c61              ADDS     r1,r4,#1
00005c  b2cc              UXTB     r4,r1
00005e  4940              LDR      r1,|L9.352|
000060  540a              STRB     r2,[r1,r0]
;;;514    	data_to_send[_cnt++]=BYTE0(rol);
000062  f89d2008          LDRB     r2,[sp,#8]
000066  4620              MOV      r0,r4
000068  1c61              ADDS     r1,r4,#1
00006a  b2cc              UXTB     r4,r1
00006c  493c              LDR      r1,|L9.352|
00006e  540a              STRB     r2,[r1,r0]
;;;515    	data_to_send[_cnt++]=BYTE1(pit);
000070  f89d200d          LDRB     r2,[sp,#0xd]
000074  4621              MOV      r1,r4
000076  1c60              ADDS     r0,r4,#1
000078  b2c4              UXTB     r4,r0
00007a  4839              LDR      r0,|L9.352|
00007c  5442              STRB     r2,[r0,r1]
;;;516    	data_to_send[_cnt++]=BYTE0(pit);
00007e  f89d200c          LDRB     r2,[sp,#0xc]
000082  4620              MOV      r0,r4
000084  1c61              ADDS     r1,r4,#1
000086  b2cc              UXTB     r4,r1
000088  4935              LDR      r1,|L9.352|
00008a  540a              STRB     r2,[r1,r0]
;;;517    	data_to_send[_cnt++]=BYTE1(aux1);
00008c  f89d2021          LDRB     r2,[sp,#0x21]
000090  4620              MOV      r0,r4
000092  1c61              ADDS     r1,r4,#1
000094  b2cc              UXTB     r4,r1
000096  4932              LDR      r1,|L9.352|
000098  540a              STRB     r2,[r1,r0]
;;;518    	data_to_send[_cnt++]=BYTE0(aux1);
00009a  f89d2020          LDRB     r2,[sp,#0x20]
00009e  4620              MOV      r0,r4
0000a0  1c61              ADDS     r1,r4,#1
0000a2  b2cc              UXTB     r4,r1
0000a4  492e              LDR      r1,|L9.352|
0000a6  540a              STRB     r2,[r1,r0]
;;;519    	data_to_send[_cnt++]=BYTE1(aux2);
0000a8  f89d2025          LDRB     r2,[sp,#0x25]
0000ac  4620              MOV      r0,r4
0000ae  1c61              ADDS     r1,r4,#1
0000b0  b2cc              UXTB     r4,r1
0000b2  492b              LDR      r1,|L9.352|
0000b4  540a              STRB     r2,[r1,r0]
;;;520    	data_to_send[_cnt++]=BYTE0(aux2);
0000b6  f89d2024          LDRB     r2,[sp,#0x24]
0000ba  4620              MOV      r0,r4
0000bc  1c61              ADDS     r1,r4,#1
0000be  b2cc              UXTB     r4,r1
0000c0  4927              LDR      r1,|L9.352|
0000c2  540a              STRB     r2,[r1,r0]
;;;521    	data_to_send[_cnt++]=BYTE1(aux3);
0000c4  f89d2029          LDRB     r2,[sp,#0x29]
0000c8  4620              MOV      r0,r4
0000ca  1c61              ADDS     r1,r4,#1
0000cc  b2cc              UXTB     r4,r1
0000ce  4924              LDR      r1,|L9.352|
0000d0  540a              STRB     r2,[r1,r0]
;;;522    	data_to_send[_cnt++]=BYTE0(aux3);
0000d2  f89d2028          LDRB     r2,[sp,#0x28]
0000d6  4620              MOV      r0,r4
0000d8  1c61              ADDS     r1,r4,#1
0000da  b2cc              UXTB     r4,r1
0000dc  4920              LDR      r1,|L9.352|
0000de  540a              STRB     r2,[r1,r0]
;;;523    	data_to_send[_cnt++]=BYTE1(aux4);
0000e0  f89d202d          LDRB     r2,[sp,#0x2d]
0000e4  4620              MOV      r0,r4
0000e6  1c61              ADDS     r1,r4,#1
0000e8  b2cc              UXTB     r4,r1
0000ea  491d              LDR      r1,|L9.352|
0000ec  540a              STRB     r2,[r1,r0]
;;;524    	data_to_send[_cnt++]=BYTE0(aux4);
0000ee  f89d202c          LDRB     r2,[sp,#0x2c]
0000f2  4620              MOV      r0,r4
0000f4  1c61              ADDS     r1,r4,#1
0000f6  b2cc              UXTB     r4,r1
0000f8  4919              LDR      r1,|L9.352|
0000fa  540a              STRB     r2,[r1,r0]
;;;525    	data_to_send[_cnt++]=BYTE1(aux5);
0000fc  f89d2031          LDRB     r2,[sp,#0x31]
000100  4620              MOV      r0,r4
000102  1c61              ADDS     r1,r4,#1
000104  b2cc              UXTB     r4,r1
000106  4916              LDR      r1,|L9.352|
000108  540a              STRB     r2,[r1,r0]
;;;526    	data_to_send[_cnt++]=BYTE0(aux5);
00010a  f89d2030          LDRB     r2,[sp,#0x30]
00010e  4621              MOV      r1,r4
000110  1c60              ADDS     r0,r4,#1
000112  b2c4              UXTB     r4,r0
000114  4812              LDR      r0,|L9.352|
000116  5442              STRB     r2,[r0,r1]
;;;527    	data_to_send[_cnt++]=BYTE1(aux6);
000118  f89d2035          LDRB     r2,[sp,#0x35]
00011c  4620              MOV      r0,r4
00011e  1c61              ADDS     r1,r4,#1
000120  b2cc              UXTB     r4,r1
000122  490f              LDR      r1,|L9.352|
000124  540a              STRB     r2,[r1,r0]
;;;528    	data_to_send[_cnt++]=BYTE0(aux6);
000126  f89d2034          LDRB     r2,[sp,#0x34]
00012a  4620              MOV      r0,r4
00012c  1c61              ADDS     r1,r4,#1
00012e  b2cc              UXTB     r4,r1
000130  490b              LDR      r1,|L9.352|
000132  540a              STRB     r2,[r1,r0]
;;;529    
;;;530    	data_to_send[3] = _cnt-4;
000134  1f20              SUBS     r0,r4,#4
000136  70c8              STRB     r0,[r1,#3]
;;;531    	
;;;532    	
;;;533    	for(;i<_cnt;i++)
000138  e005              B        |L9.326|
                  |L9.314|
;;;534    		sum += data_to_send[i];
00013a  4809              LDR      r0,|L9.352|
00013c  5d40              LDRB     r0,[r0,r5]
00013e  4430              ADD      r0,r0,r6
000140  b2c6              UXTB     r6,r0
000142  1c68              ADDS     r0,r5,#1              ;533
000144  b2c5              UXTB     r5,r0                 ;533
                  |L9.326|
000146  42a5              CMP      r5,r4                 ;533
000148  dbf7              BLT      |L9.314|
;;;535    	
;;;536    	data_to_send[_cnt++]=sum;
00014a  4620              MOV      r0,r4
00014c  1c61              ADDS     r1,r4,#1
00014e  b2cc              UXTB     r4,r1
000150  4903              LDR      r1,|L9.352|
000152  540e              STRB     r6,[r1,r0]
;;;537    	
;;;538    	ANO_DT_Send_Data(data_to_send, _cnt);
000154  4621              MOV      r1,r4
000156  4802              LDR      r0,|L9.352|
000158  f7fffffe          BL       ANO_DT_Send_Data
;;;539    }
00015c  bd7f              POP      {r0-r6,pc}
;;;540    void ANO_DT_Send_Power(u16 votage, u16 current)
                          ENDP

00015e  0000              DCW      0x0000
                  |L9.352|
                          DCD      data_to_send

                          AREA ||i.ANO_DT_Send_Senser||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Senser PROC
;;;448    }
;;;449    void ANO_DT_Send_Senser(s16 a_x,s16 a_y,s16 a_z,s16 g_x,s16 g_y,s16 g_z,s16 m_x,s16 m_y,s16 m_z,s32 bar)
000000  e92d4ff8          PUSH     {r3-r11,lr}
;;;450    {
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4690              MOV      r8,r2
00000a  4699              MOV      r9,r3
00000c  f8ddb028          LDR      r11,[sp,#0x28]
;;;451    	u8 _cnt=0;
000010  2400              MOVS     r4,#0
;;;452    	vs16 _temp;
;;;453    	u8 i=0;
000012  2500              MOVS     r5,#0
;;;454    	u8 sum = 0;
000014  46a2              MOV      r10,r4
;;;455    
;;;456    	data_to_send[_cnt++]=0xAA;
000016  22aa              MOVS     r2,#0xaa
000018  4621              MOV      r1,r4
00001a  1c64              ADDS     r4,r4,#1
00001c  4856              LDR      r0,|L10.376|
00001e  5442              STRB     r2,[r0,r1]
;;;457    	data_to_send[_cnt++]=0xAA;
000020  4621              MOV      r1,r4
000022  1c64              ADDS     r4,r4,#1
000024  5442              STRB     r2,[r0,r1]
;;;458    	data_to_send[_cnt++]=0x02;
000026  2202              MOVS     r2,#2
000028  4621              MOV      r1,r4
00002a  1c64              ADDS     r4,r4,#1
00002c  5442              STRB     r2,[r0,r1]
;;;459    	data_to_send[_cnt++]=0;
00002e  2200              MOVS     r2,#0
000030  4621              MOV      r1,r4
000032  1c64              ADDS     r4,r4,#1
000034  5442              STRB     r2,[r0,r1]
;;;460    	
;;;461    	_temp = a_x;
000036  9600              STR      r6,[sp,#0]
;;;462    	data_to_send[_cnt++]=BYTE1(_temp);
000038  f89d2001          LDRB     r2,[sp,#1]
00003c  4621              MOV      r1,r4
00003e  1c64              ADDS     r4,r4,#1
000040  5442              STRB     r2,[r0,r1]
;;;463    	data_to_send[_cnt++]=BYTE0(_temp);
000042  f89d2000          LDRB     r2,[sp,#0]
000046  4621              MOV      r1,r4
000048  1c64              ADDS     r4,r4,#1
00004a  5442              STRB     r2,[r0,r1]
;;;464    	_temp = a_y;
00004c  9700              STR      r7,[sp,#0]
;;;465    	data_to_send[_cnt++]=BYTE1(_temp);
00004e  f89d2001          LDRB     r2,[sp,#1]
000052  4621              MOV      r1,r4
000054  1c64              ADDS     r4,r4,#1
000056  5442              STRB     r2,[r0,r1]
;;;466    	data_to_send[_cnt++]=BYTE0(_temp);
000058  f89d2000          LDRB     r2,[sp,#0]
00005c  4620              MOV      r0,r4
00005e  1c61              ADDS     r1,r4,#1
000060  b2cc              UXTB     r4,r1
000062  4945              LDR      r1,|L10.376|
000064  540a              STRB     r2,[r1,r0]
;;;467    	_temp = a_z;	
000066  f8cd8000          STR      r8,[sp,#0]
;;;468    	data_to_send[_cnt++]=BYTE1(_temp);
00006a  f89d2001          LDRB     r2,[sp,#1]
00006e  4620              MOV      r0,r4
000070  1c61              ADDS     r1,r4,#1
000072  b2cc              UXTB     r4,r1
000074  4940              LDR      r1,|L10.376|
000076  540a              STRB     r2,[r1,r0]
;;;469    	data_to_send[_cnt++]=BYTE0(_temp);
000078  f89d2000          LDRB     r2,[sp,#0]
00007c  4620              MOV      r0,r4
00007e  1c61              ADDS     r1,r4,#1
000080  b2cc              UXTB     r4,r1
000082  493d              LDR      r1,|L10.376|
000084  540a              STRB     r2,[r1,r0]
;;;470    	
;;;471    	_temp = g_x;	
000086  f8cd9000          STR      r9,[sp,#0]
;;;472    	data_to_send[_cnt++]=BYTE1(_temp);
00008a  f89d2001          LDRB     r2,[sp,#1]
00008e  4620              MOV      r0,r4
000090  1c61              ADDS     r1,r4,#1
000092  b2cc              UXTB     r4,r1
000094  4938              LDR      r1,|L10.376|
000096  540a              STRB     r2,[r1,r0]
;;;473    	data_to_send[_cnt++]=BYTE0(_temp);
000098  f89d2000          LDRB     r2,[sp,#0]
00009c  4620              MOV      r0,r4
00009e  1c61              ADDS     r1,r4,#1
0000a0  b2cc              UXTB     r4,r1
0000a2  4935              LDR      r1,|L10.376|
0000a4  540a              STRB     r2,[r1,r0]
;;;474    	_temp = g_y;	
0000a6  f8cdb000          STR      r11,[sp,#0]
;;;475    	data_to_send[_cnt++]=BYTE1(_temp);
0000aa  f89d2001          LDRB     r2,[sp,#1]
0000ae  4620              MOV      r0,r4
0000b0  1c61              ADDS     r1,r4,#1
0000b2  b2cc              UXTB     r4,r1
0000b4  4930              LDR      r1,|L10.376|
0000b6  540a              STRB     r2,[r1,r0]
;;;476    	data_to_send[_cnt++]=BYTE0(_temp);
0000b8  f89d2000          LDRB     r2,[sp,#0]
0000bc  4620              MOV      r0,r4
0000be  1c61              ADDS     r1,r4,#1
0000c0  b2cc              UXTB     r4,r1
0000c2  492d              LDR      r1,|L10.376|
0000c4  540a              STRB     r2,[r1,r0]
;;;477    	_temp = g_z;	
0000c6  980b              LDR      r0,[sp,#0x2c]
0000c8  9000              STR      r0,[sp,#0]
;;;478    	data_to_send[_cnt++]=BYTE1(_temp);
0000ca  f89d2001          LDRB     r2,[sp,#1]
0000ce  4620              MOV      r0,r4
0000d0  1c61              ADDS     r1,r4,#1
0000d2  b2cc              UXTB     r4,r1
0000d4  4928              LDR      r1,|L10.376|
0000d6  540a              STRB     r2,[r1,r0]
;;;479    	data_to_send[_cnt++]=BYTE0(_temp);
0000d8  f89d2000          LDRB     r2,[sp,#0]
0000dc  4621              MOV      r1,r4
0000de  1c60              ADDS     r0,r4,#1
0000e0  b2c4              UXTB     r4,r0
0000e2  4825              LDR      r0,|L10.376|
0000e4  5442              STRB     r2,[r0,r1]
;;;480    	
;;;481    	_temp = m_x;	
0000e6  980c              LDR      r0,[sp,#0x30]
0000e8  9000              STR      r0,[sp,#0]
;;;482    	data_to_send[_cnt++]=BYTE1(_temp);
0000ea  f89d2001          LDRB     r2,[sp,#1]
0000ee  4620              MOV      r0,r4
0000f0  1c61              ADDS     r1,r4,#1
0000f2  b2cc              UXTB     r4,r1
0000f4  4920              LDR      r1,|L10.376|
0000f6  540a              STRB     r2,[r1,r0]
;;;483    	data_to_send[_cnt++]=BYTE0(_temp);
0000f8  f89d2000          LDRB     r2,[sp,#0]
0000fc  4620              MOV      r0,r4
0000fe  1c61              ADDS     r1,r4,#1
000100  b2cc              UXTB     r4,r1
000102  491d              LDR      r1,|L10.376|
000104  540a              STRB     r2,[r1,r0]
;;;484    	_temp = m_y;	
000106  980d              LDR      r0,[sp,#0x34]
000108  9000              STR      r0,[sp,#0]
;;;485    	data_to_send[_cnt++]=BYTE1(_temp);
00010a  f89d2001          LDRB     r2,[sp,#1]
00010e  4620              MOV      r0,r4
000110  1c61              ADDS     r1,r4,#1
000112  b2cc              UXTB     r4,r1
000114  4918              LDR      r1,|L10.376|
000116  540a              STRB     r2,[r1,r0]
;;;486    	data_to_send[_cnt++]=BYTE0(_temp);
000118  f89d2000          LDRB     r2,[sp,#0]
00011c  4621              MOV      r1,r4
00011e  1c60              ADDS     r0,r4,#1
000120  b2c4              UXTB     r4,r0
000122  4815              LDR      r0,|L10.376|
000124  5442              STRB     r2,[r0,r1]
;;;487    	_temp = m_z;	
000126  980e              LDR      r0,[sp,#0x38]
000128  9000              STR      r0,[sp,#0]
;;;488    	data_to_send[_cnt++]=BYTE1(_temp);
00012a  f89d2001          LDRB     r2,[sp,#1]
00012e  4620              MOV      r0,r4
000130  1c61              ADDS     r1,r4,#1
000132  b2cc              UXTB     r4,r1
000134  4910              LDR      r1,|L10.376|
000136  540a              STRB     r2,[r1,r0]
;;;489    	data_to_send[_cnt++]=BYTE0(_temp);
000138  f89d2000          LDRB     r2,[sp,#0]
00013c  4620              MOV      r0,r4
00013e  1c61              ADDS     r1,r4,#1
000140  b2cc              UXTB     r4,r1
000142  490d              LDR      r1,|L10.376|
000144  540a              STRB     r2,[r1,r0]
;;;490    	
;;;491    	data_to_send[3] = _cnt-4;
000146  1f20              SUBS     r0,r4,#4
000148  70c8              STRB     r0,[r1,#3]
;;;492    	
;;;493    	
;;;494    	for(;i<_cnt;i++)
00014a  e006              B        |L10.346|
                  |L10.332|
;;;495    		sum += data_to_send[i];
00014c  480a              LDR      r0,|L10.376|
00014e  5d40              LDRB     r0,[r0,r5]
000150  4450              ADD      r0,r0,r10
000152  f0000aff          AND      r10,r0,#0xff
000156  1c68              ADDS     r0,r5,#1              ;494
000158  b2c5              UXTB     r5,r0                 ;494
                  |L10.346|
00015a  42a5              CMP      r5,r4                 ;494
00015c  dbf6              BLT      |L10.332|
;;;496    	data_to_send[_cnt++] = sum;
00015e  4620              MOV      r0,r4
000160  1c61              ADDS     r1,r4,#1
000162  b2cc              UXTB     r4,r1
000164  4904              LDR      r1,|L10.376|
000166  f801a000          STRB     r10,[r1,r0]
;;;497    	
;;;498    	ANO_DT_Send_Data(data_to_send, _cnt);
00016a  4621              MOV      r1,r4
00016c  4802              LDR      r0,|L10.376|
00016e  f7fffffe          BL       ANO_DT_Send_Data
;;;499    }
000172  e8bd8ff8          POP      {r3-r11,pc}
;;;500    void ANO_DT_Send_RCData(u16 thr,u16 yaw,u16 rol,u16 pit,u16 aux1,u16 aux2,u16 aux3,u16 aux4,u16 aux5,u16 aux6)
                          ENDP

000176  0000              DCW      0x0000
                  |L10.376|
                          DCD      data_to_send

                          AREA ||i.ANO_DT_Send_Status||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Status PROC
;;;407    }
;;;408    void ANO_DT_Send_Status(float angle_rol, float angle_pit, float angle_yaw, s32 alt, u8 fly_model, u8 armed)
000000  e92d4ffe          PUSH     {r1-r11,lr}
;;;409    {
000004  4682              MOV      r10,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
00000a  4698              MOV      r8,r3
00000c  f8ddb030          LDR      r11,[sp,#0x30]
;;;410    	u8 _cnt=0;
000010  2400              MOVS     r4,#0
;;;411    	vs16 _temp;
;;;412    	s32 _temp2;
;;;413    	u8 sum = 0;
000012  46a1              MOV      r9,r4
;;;414    	u8 i=0;
000014  2500              MOVS     r5,#0
;;;415    	
;;;416    	data_to_send[_cnt++]=0xAA;
000016  22aa              MOVS     r2,#0xaa
000018  4621              MOV      r1,r4
00001a  1c64              ADDS     r4,r4,#1
00001c  4846              LDR      r0,|L11.312|
00001e  5442              STRB     r2,[r0,r1]
;;;417    	data_to_send[_cnt++]=0xAA;
000020  4621              MOV      r1,r4
000022  1c64              ADDS     r4,r4,#1
000024  5442              STRB     r2,[r0,r1]
;;;418    	data_to_send[_cnt++]=0x01;
000026  2201              MOVS     r2,#1
000028  4621              MOV      r1,r4
00002a  1c64              ADDS     r4,r4,#1
00002c  5442              STRB     r2,[r0,r1]
;;;419    	data_to_send[_cnt++]=0;
00002e  2200              MOVS     r2,#0
000030  4621              MOV      r1,r4
000032  1c64              ADDS     r4,r4,#1
000034  5442              STRB     r2,[r0,r1]
;;;420    	
;;;421    	_temp = (int)(angle_rol*100);
000036  4941              LDR      r1,|L11.316|
000038  4650              MOV      r0,r10
00003a  f7fffffe          BL       __aeabi_fmul
00003e  9000              STR      r0,[sp,#0]
000040  f7fffffe          BL       __aeabi_f2iz
000044  9002              STR      r0,[sp,#8]
;;;422    	data_to_send[_cnt++]=BYTE1(_temp);
000046  f89d2009          LDRB     r2,[sp,#9]
00004a  4621              MOV      r1,r4
00004c  1c64              ADDS     r4,r4,#1
00004e  483a              LDR      r0,|L11.312|
000050  5442              STRB     r2,[r0,r1]
;;;423    	data_to_send[_cnt++]=BYTE0(_temp);
000052  f89d2008          LDRB     r2,[sp,#8]
000056  4621              MOV      r1,r4
000058  1c64              ADDS     r4,r4,#1
00005a  5442              STRB     r2,[r0,r1]
;;;424    	_temp = (int)(angle_pit*100);
00005c  4937              LDR      r1,|L11.316|
00005e  4630              MOV      r0,r6
000060  f7fffffe          BL       __aeabi_fmul
000064  9000              STR      r0,[sp,#0]
000066  f7fffffe          BL       __aeabi_f2iz
00006a  9002              STR      r0,[sp,#8]
;;;425    	data_to_send[_cnt++]=BYTE1(_temp);
00006c  f89d2009          LDRB     r2,[sp,#9]
000070  4621              MOV      r1,r4
000072  1c64              ADDS     r4,r4,#1
000074  4830              LDR      r0,|L11.312|
000076  5442              STRB     r2,[r0,r1]
;;;426    	data_to_send[_cnt++]=BYTE0(_temp);
000078  f89d2008          LDRB     r2,[sp,#8]
00007c  4621              MOV      r1,r4
00007e  1c60              ADDS     r0,r4,#1
000080  b2c4              UXTB     r4,r0
000082  482d              LDR      r0,|L11.312|
000084  5442              STRB     r2,[r0,r1]
;;;427    	_temp = (int)(angle_yaw*100);
000086  492d              LDR      r1,|L11.316|
000088  4638              MOV      r0,r7
00008a  f7fffffe          BL       __aeabi_fmul
00008e  9000              STR      r0,[sp,#0]
000090  f7fffffe          BL       __aeabi_f2iz
000094  9002              STR      r0,[sp,#8]
;;;428    	data_to_send[_cnt++]=BYTE1(_temp);
000096  f89d2009          LDRB     r2,[sp,#9]
00009a  4620              MOV      r0,r4
00009c  1c61              ADDS     r1,r4,#1
00009e  b2cc              UXTB     r4,r1
0000a0  4925              LDR      r1,|L11.312|
0000a2  540a              STRB     r2,[r1,r0]
;;;429    	data_to_send[_cnt++]=BYTE0(_temp);
0000a4  f89d2008          LDRB     r2,[sp,#8]
0000a8  4621              MOV      r1,r4
0000aa  1c60              ADDS     r0,r4,#1
0000ac  b2c4              UXTB     r4,r0
0000ae  4822              LDR      r0,|L11.312|
0000b0  5442              STRB     r2,[r0,r1]
;;;430    	 _temp2= alt;
0000b2  f8cd8004          STR      r8,[sp,#4]
;;;431    	data_to_send[_cnt++]=BYTE3(_temp2);
0000b6  f89d2007          LDRB     r2,[sp,#7]
0000ba  4620              MOV      r0,r4
0000bc  1c61              ADDS     r1,r4,#1
0000be  b2cc              UXTB     r4,r1
0000c0  491d              LDR      r1,|L11.312|
0000c2  540a              STRB     r2,[r1,r0]
;;;432    	data_to_send[_cnt++]=BYTE2(_temp2);
0000c4  f89d2006          LDRB     r2,[sp,#6]
0000c8  4620              MOV      r0,r4
0000ca  1c61              ADDS     r1,r4,#1
0000cc  b2cc              UXTB     r4,r1
0000ce  491a              LDR      r1,|L11.312|
0000d0  540a              STRB     r2,[r1,r0]
;;;433    	data_to_send[_cnt++]=BYTE1(_temp2);
0000d2  f89d2005          LDRB     r2,[sp,#5]
0000d6  4620              MOV      r0,r4
0000d8  1c61              ADDS     r1,r4,#1
0000da  b2cc              UXTB     r4,r1
0000dc  4916              LDR      r1,|L11.312|
0000de  540a              STRB     r2,[r1,r0]
;;;434    	data_to_send[_cnt++]=BYTE0(_temp2);
0000e0  f89d2004          LDRB     r2,[sp,#4]
0000e4  4620              MOV      r0,r4
0000e6  1c61              ADDS     r1,r4,#1
0000e8  b2cc              UXTB     r4,r1
0000ea  4913              LDR      r1,|L11.312|
0000ec  540a              STRB     r2,[r1,r0]
;;;435    	
;;;436    	data_to_send[_cnt++] = fly_model;
0000ee  4620              MOV      r0,r4
0000f0  1c61              ADDS     r1,r4,#1
0000f2  b2cc              UXTB     r4,r1
0000f4  4910              LDR      r1,|L11.312|
0000f6  f801b000          STRB     r11,[r1,r0]
;;;437    	
;;;438    	data_to_send[_cnt++] = armed;
0000fa  4621              MOV      r1,r4
0000fc  1c62              ADDS     r2,r4,#1
0000fe  b2d4              UXTB     r4,r2
000100  4a0d              LDR      r2,|L11.312|
000102  980d              LDR      r0,[sp,#0x34]
000104  5450              STRB     r0,[r2,r1]
;;;439    	
;;;440    	data_to_send[3] = _cnt-4;
000106  1f20              SUBS     r0,r4,#4
000108  4611              MOV      r1,r2
00010a  70c8              STRB     r0,[r1,#3]
;;;441    	
;;;442    	
;;;443    	for(;i<_cnt;i++)
00010c  e006              B        |L11.284|
                  |L11.270|
;;;444    		sum += data_to_send[i];
00010e  480a              LDR      r0,|L11.312|
000110  5d40              LDRB     r0,[r0,r5]
000112  4448              ADD      r0,r0,r9
000114  f00009ff          AND      r9,r0,#0xff
000118  1c68              ADDS     r0,r5,#1              ;443
00011a  b2c5              UXTB     r5,r0                 ;443
                  |L11.284|
00011c  42a5              CMP      r5,r4                 ;443
00011e  dbf6              BLT      |L11.270|
;;;445    	data_to_send[_cnt++]=sum;
000120  4620              MOV      r0,r4
000122  1c61              ADDS     r1,r4,#1
000124  b2cc              UXTB     r4,r1
000126  4904              LDR      r1,|L11.312|
000128  f8019000          STRB     r9,[r1,r0]
;;;446    	
;;;447    	ANO_DT_Send_Data(data_to_send, _cnt);
00012c  4621              MOV      r1,r4
00012e  4802              LDR      r0,|L11.312|
000130  f7fffffe          BL       ANO_DT_Send_Data
;;;448    }
000134  e8bd8ffe          POP      {r1-r11,pc}
;;;449    void ANO_DT_Send_Senser(s16 a_x,s16 a_y,s16 a_z,s16 g_x,s16 g_y,s16 g_z,s16 m_x,s16 m_y,s16 m_z,s32 bar)
                          ENDP

                  |L11.312|
                          DCD      data_to_send
                  |L11.316|
                          DCD      0x42c80000

                          AREA ||i.ANO_DT_Send_Version||, CODE, READONLY, ALIGN=2

                  ANO_DT_Send_Version PROC
;;;378    
;;;379    void ANO_DT_Send_Version(u8 hardware_type, u16 hardware_ver,u16 software_ver,u16 protocol_ver,u16 bootloader_ver)
000000  e92d41ff          PUSH     {r0-r8,lr}
;;;380    {
000004  4606              MOV      r6,r0
;;;381    	u8 _cnt=0;
000006  2400              MOVS     r4,#0
;;;382    	u8 sum = 0;
000008  2700              MOVS     r7,#0
;;;383    	u8 i=0;
00000a  2500              MOVS     r5,#0
;;;384    	data_to_send[_cnt++]=0xAA;
00000c  22aa              MOVS     r2,#0xaa
00000e  4621              MOV      r1,r4
000010  1c64              ADDS     r4,r4,#1
000012  482c              LDR      r0,|L12.196|
000014  5442              STRB     r2,[r0,r1]
;;;385    	data_to_send[_cnt++]=0xAA;
000016  4621              MOV      r1,r4
000018  1c64              ADDS     r4,r4,#1
00001a  5442              STRB     r2,[r0,r1]
;;;386    	data_to_send[_cnt++]=0x00;
00001c  2200              MOVS     r2,#0
00001e  4621              MOV      r1,r4
000020  1c64              ADDS     r4,r4,#1
000022  5442              STRB     r2,[r0,r1]
;;;387    	data_to_send[_cnt++]=0;
000024  4621              MOV      r1,r4
000026  1c64              ADDS     r4,r4,#1
000028  5442              STRB     r2,[r0,r1]
;;;388    	
;;;389    	data_to_send[_cnt++]=hardware_type;
00002a  4621              MOV      r1,r4
00002c  1c64              ADDS     r4,r4,#1
00002e  5446              STRB     r6,[r0,r1]
;;;390    	data_to_send[_cnt++]=BYTE1(hardware_ver);
000030  f89d2005          LDRB     r2,[sp,#5]
000034  4621              MOV      r1,r4
000036  1c64              ADDS     r4,r4,#1
000038  5442              STRB     r2,[r0,r1]
;;;391    	data_to_send[_cnt++]=BYTE0(hardware_ver);
00003a  f89d2004          LDRB     r2,[sp,#4]
00003e  4621              MOV      r1,r4
000040  1c64              ADDS     r4,r4,#1
000042  5442              STRB     r2,[r0,r1]
;;;392    	data_to_send[_cnt++]=BYTE1(software_ver);
000044  f89d2009          LDRB     r2,[sp,#9]
000048  4620              MOV      r0,r4
00004a  1c61              ADDS     r1,r4,#1
00004c  b2cc              UXTB     r4,r1
00004e  491d              LDR      r1,|L12.196|
000050  540a              STRB     r2,[r1,r0]
;;;393    	data_to_send[_cnt++]=BYTE0(software_ver);
000052  f89d2008          LDRB     r2,[sp,#8]
000056  4621              MOV      r1,r4
000058  1c60              ADDS     r0,r4,#1
00005a  b2c4              UXTB     r4,r0
00005c  4819              LDR      r0,|L12.196|
00005e  5442              STRB     r2,[r0,r1]
;;;394    	data_to_send[_cnt++]=BYTE1(protocol_ver);
000060  f89d200d          LDRB     r2,[sp,#0xd]
000064  4620              MOV      r0,r4
000066  1c61              ADDS     r1,r4,#1
000068  b2cc              UXTB     r4,r1
00006a  4916              LDR      r1,|L12.196|
00006c  540a              STRB     r2,[r1,r0]
;;;395    	data_to_send[_cnt++]=BYTE0(protocol_ver);
00006e  f89d200c          LDRB     r2,[sp,#0xc]
000072  4620              MOV      r0,r4
000074  1c61              ADDS     r1,r4,#1
000076  b2cc              UXTB     r4,r1
000078  4912              LDR      r1,|L12.196|
00007a  540a              STRB     r2,[r1,r0]
;;;396    	data_to_send[_cnt++]=BYTE1(bootloader_ver);
00007c  f89d2029          LDRB     r2,[sp,#0x29]
000080  4620              MOV      r0,r4
000082  1c61              ADDS     r1,r4,#1
000084  b2cc              UXTB     r4,r1
000086  490f              LDR      r1,|L12.196|
000088  540a              STRB     r2,[r1,r0]
;;;397    	data_to_send[_cnt++]=BYTE0(bootloader_ver);
00008a  f89d2028          LDRB     r2,[sp,#0x28]
00008e  4620              MOV      r0,r4
000090  1c61              ADDS     r1,r4,#1
000092  b2cc              UXTB     r4,r1
000094  490b              LDR      r1,|L12.196|
000096  540a              STRB     r2,[r1,r0]
;;;398    	
;;;399    	data_to_send[3] = _cnt-4;
000098  1f20              SUBS     r0,r4,#4
00009a  70c8              STRB     r0,[r1,#3]
;;;400    	
;;;401    	
;;;402    	for(;i<_cnt;i++)
00009c  e005              B        |L12.170|
                  |L12.158|
;;;403    		sum += data_to_send[i];
00009e  4809              LDR      r0,|L12.196|
0000a0  5d40              LDRB     r0,[r0,r5]
0000a2  4438              ADD      r0,r0,r7
0000a4  b2c7              UXTB     r7,r0
0000a6  1c68              ADDS     r0,r5,#1              ;402
0000a8  b2c5              UXTB     r5,r0                 ;402
                  |L12.170|
0000aa  42a5              CMP      r5,r4                 ;402
0000ac  dbf7              BLT      |L12.158|
;;;404    	data_to_send[_cnt++]=sum;
0000ae  4620              MOV      r0,r4
0000b0  1c61              ADDS     r1,r4,#1
0000b2  b2cc              UXTB     r4,r1
0000b4  4903              LDR      r1,|L12.196|
0000b6  540f              STRB     r7,[r1,r0]
;;;405    	
;;;406    	ANO_DT_Send_Data(data_to_send, _cnt);
0000b8  4621              MOV      r1,r4
0000ba  4802              LDR      r0,|L12.196|
0000bc  f7fffffe          BL       ANO_DT_Send_Data
;;;407    }
0000c0  e8bd81ff          POP      {r0-r8,pc}
;;;408    void ANO_DT_Send_Status(float angle_rol, float angle_pit, float angle_yaw, s32 alt, u8 fly_model, u8 armed)
                          ENDP

                  |L12.196|
                          DCD      data_to_send

                          AREA ||i.calibrate_IMU||, CODE, READONLY, ALIGN=2

                  calibrate_IMU PROC
;;;132    }
;;;133    void calibrate_IMU()
000000  b510              PUSH     {r4,lr}
;;;134    {
;;;135        if(mpu6050.Gyro_CALIBRATE)
000002  480a              LDR      r0,|L13.44|
000004  7840              LDRB     r0,[r0,#1]  ; mpu6050
000006  b130              CBZ      r0,|L13.22|
;;;136        {
;;;137            TIM_Cmd(TIM4, ENABLE);
000008  2101              MOVS     r1,#1
00000a  4809              LDR      r0,|L13.48|
00000c  f7fffffe          BL       TIM_Cmd
;;;138            mpu6050.Gyro_CALIBRATE=0;
000010  2000              MOVS     r0,#0
000012  4906              LDR      r1,|L13.44|
000014  7048              STRB     r0,[r1,#1]
                  |L13.22|
;;;139        }
;;;140            if(mpu6050.Acc_CALIBRATE)
000016  4805              LDR      r0,|L13.44|
000018  7800              LDRB     r0,[r0,#0]  ; mpu6050
00001a  b130              CBZ      r0,|L13.42|
;;;141        {
;;;142            TIM_Cmd(TIM4, DISABLE);
00001c  2100              MOVS     r1,#0
00001e  4804              LDR      r0,|L13.48|
000020  f7fffffe          BL       TIM_Cmd
;;;143            mpu6050.Acc_CALIBRATE=0;
000024  2000              MOVS     r0,#0
000026  4901              LDR      r1,|L13.44|
000028  7008              STRB     r0,[r1,#0]
                  |L13.42|
;;;144        }
;;;145    
;;;146        
;;;147    }
00002a  bd10              POP      {r4,pc}
;;;148    /////////////////////////////////////////////////////////////////////////////////////
                          ENDP

                  |L13.44|
                          DCD      mpu6050
                  |L13.48|
                          DCD      0x40000800

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  f
                          %        13
                  data_to_send
                          %        51
                  Rc_Pwm_In
                          %        20
                  MPU6050_ACC_LAST
                          %        12
                  MPU6050_GYRO_LAST
                          %        12
                  HMC5883L_MAG_LAST
                          %        12
                  GYRO_OFFSET
                          %        12
                  ACC_OFFSET
                          %        12
                  MAG_OFFSET
                          %        12
                  MAG_AVG
                          %        12
                  GYRO_AVG
                          %        12
                  Q_angle
                          %        12
                  RxBuffer
                          %        50

                          AREA ||.data||, DATA, ALIGN=0

                  fly_ready
000000  00                DCB      0x00
                  mpu6050
000001  0000              DCB      0x00,0x00
                  ||cnt||
000003  00                DCB      0x00
                  status_cnt
000004  0f                DCB      0x0f
                  motopwm_cnt
000005  14                DCB      0x14
                  _data_len
000006  00                DCB      0x00
                  _data_cnt
000007  00                DCB      0x00
                  state
000008  00                DCB      0x00
